<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">

<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="share something">
<meta property="og:type" content="website">
<meta property="og:title" content="Litost&#39;s Blog">
<meta property="og:url" content="http://litost-fht.top/page/2/index.html">
<meta property="og:site_name" content="Litost&#39;s Blog">
<meta property="og:description" content="share something">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Litost&#39;s Blog">
<meta name="twitter:description" content="share something">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://litost-fht.top/page/2/">





  <title>Litost's Blog</title>
  








</head>
<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":true,"debug":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":100,"height":200},"mobile":{"show":false},"log":false});</script> 
<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <a href="https://github.com/llitost"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Litost's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://litost-fht.top/2019/01/18/mysql/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Fang Hantao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx4.sinaimg.cn/mw690/adba74c1gy1fy3qlbnbpoj20fi08cq34.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Litost's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/18/mysql/" itemprop="url">MySQL基本操作个人总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-18T12:42:50+08:00">
                2019-01-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/总结/" itemprop="url" rel="index">
                    <span itemprop="name">总结</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/01/18/mysql/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/01/18/mysql/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  3.1k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  12
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-数据库表结构的操作"><a href="#1-数据库表结构的操作" class="headerlink" title="1.数据库表结构的操作"></a>1.数据库表结构的操作</h1><h2 id="1-1-创建数据表"><a href="#1-1-创建数据表" class="headerlink" title="1.1 创建数据表"></a>1.1 创建数据表</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;create table orders(</span><br><span class="line">    -&gt; oid int not null primary key,</span><br><span class="line">    -&gt; uid int not null,</span><br><span class="line">    -&gt; status int not null,</span><br><span class="line">    -&gt; totalprice float not null,</span><br><span class="line">    -&gt; constraint fk_orders_users foreign key (uid) references users(uid)</span><br><span class="line">    -&gt; on delete cascade</span><br><span class="line">    -&gt; on update cascade</span><br><span class="line">    -&gt; )engine=InnoDB;</span><br></pre></td></tr></table></figure>
<p><strong>on delete cascade</strong>子句表示当从users表中删除某条记录时，MySQL应该自动从orders表中删除与uid相匹配的行。<strong>on update cascade</strong>子句类似。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">mysql&gt; show columns from users;</span><br><span class="line">+-------+-------------+------+-----+---------+----------------+</span><br><span class="line">| Field | Type        | Null | Key | Default | Extra          |</span><br><span class="line">+-------+-------------+------+-----+---------+----------------+</span><br><span class="line">| uid   | int(11)     | NO   | PRI | NULL    | auto_increment |</span><br><span class="line">| name  | varchar(20) | NO   | UNI | NULL    |                |</span><br><span class="line">| pwd   | varchar(20) | NO   |     | NULL    |                |</span><br><span class="line">| sex   | char(2)     | YES  |     | NULL    |                |</span><br><span class="line">+-------+-------------+------+-----+---------+----------------+</span><br></pre></td></tr></table></figure>
<h2 id="1-2-修改表结构"><a href="#1-2-修改表结构" class="headerlink" title="1.2 修改表结构"></a>1.2 修改表结构</h2><p><code>ALTER TABLE 表名 ACTION[,ACTION]...;</code></p>
<h3 id="1-2-1-修改字段"><a href="#1-2-1-修改字段" class="headerlink" title="1.2.1 修改字段"></a>1.2.1 修改字段</h3><h4 id="（1）添加新字段"><a href="#（1）添加新字段" class="headerlink" title="（1）添加新字段"></a>（1）添加新字段</h4><p>在sex字段后添加一个phone字段。</p>
<p><code>alter table users add phone varchar(20) not null after sex;</code></p>
<h4 id="（2）修改字段"><a href="#（2）修改字段" class="headerlink" title="（2）修改字段"></a>（2）修改字段</h4><p>如果只需要修改字段的数据类型，则使用CHANGE或MODIFY子句都行。如果要修改字段名，那么只能使用CHANGE子句了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE 表名 CHANGE 原字段名 新字段名 数据类型；</span><br><span class="line">ALTER TABLE 表名 MODIFY 字段名 数据类型；</span><br></pre></td></tr></table></figure>
<h4 id="（3）删除字段"><a href="#（3）删除字段" class="headerlink" title="（3）删除字段"></a>（3）删除字段</h4><p><code>alter table users drop address;</code></p>
<h3 id="1-2-2-修改约束条件"><a href="#1-2-2-修改约束条件" class="headerlink" title="1.2.2 修改约束条件"></a>1.2.2 修改约束条件</h3><h4 id="（1）添加约束条件"><a href="#（1）添加约束条件" class="headerlink" title="（1）添加约束条件"></a>（1）添加约束条件</h4><p><code>ALTER TABLE 表名 ADD CONSTRAINT 约束名 约束类型 (字段名);</code></p>
<p>例：<code>alter table users add constraint phone_unique unique (telephone);</code></p>
<h4 id="（2）删除约束条件"><a href="#（2）删除约束条件" class="headerlink" title="（2）删除约束条件"></a>（2）删除约束条件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE 表名 DROP PRIMARY KEY;</span><br><span class="line">ALTER TABLE 表名 DROP FOREIGN KEY 外键约束名;</span><br><span class="line">ALTER TABLE 表名 DROP INDEX 唯一索引名;</span><br></pre></td></tr></table></figure>
<h3 id="1-2-3-修改表的其他选项"><a href="#1-2-3-修改表的其他选项" class="headerlink" title="1.2.3 修改表的其他选项"></a>1.2.3 修改表的其他选项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE 表名 ENGINE=存储引擎类型;</span><br><span class="line">ALTER TABLE 表名 DEFAULT CHARSET=字符集;</span><br></pre></td></tr></table></figure>
<h3 id="1-2-4-修改表名"><a href="#1-2-4-修改表名" class="headerlink" title="1.2.4 修改表名"></a>1.2.4 修改表名</h3><p><code>ALTER TABLE 原表名 RENAME TO 新表名;</code></p>
<p>或者</p>
<p> <code>RENAME TABLE 原表名 TO 新表名;</code> </p>
<h1 id="2-基本数据类型"><a href="#2-基本数据类型" class="headerlink" title="2.基本数据类型"></a>2.基本数据类型</h1><h2 id="2-1-整数类型"><a href="#2-1-整数类型" class="headerlink" title="2.1 整数类型"></a>2.1 整数类型</h2><p>对于整数类型还可以指定其显示宽度，如int(4)表示当数值宽度小于8位时在数字前面填满宽度。如果需要用0进行填充，则使用关键字zerofill。</p>
<p>整数类型还有一个属性：auto_increment。在需要产生唯一标识符或顺序符时，可以利用此属性。一个表最多只能有一个auto_increment字段，该字段应该为null，并且定义为primary key或unique。值从1开始。</p>
<h2 id="2-2-小数类型"><a href="#2-2-小数类型" class="headerlink" title="2.2 小数类型"></a>2.2 小数类型</h2><p>MySQL中的小数类型有两种：浮点数和定点数。浮点数包括单精度float类型和双精度double类型，定点数为decimal类型。定点数在内部以字符串形式存放，比浮点数精确，适合来表示货币等精度高的数据。</p>
<p>浮点数和定点数都可以在类型后面加上（M，D）来表示M位整数和小数点后D位。decimal默认M=10，D=0。</p>
<h2 id="2-3-字符串类型"><a href="#2-3-字符串类型" class="headerlink" title="2.3 字符串类型"></a>2.3 字符串类型</h2><p>CHAR、VARCHAR、TINYTEXT、TEXT、MEDIUMTEXT、LONGTEXT。</p>
<p>CHAR(n)类型的数据在存储时会删除尾部空格，而VARCHAR(n)类型的则不会。</p>
<h2 id="2-4-日期时间类型"><a href="#2-4-日期时间类型" class="headerlink" title="2.4 日期时间类型"></a>2.4 日期时间类型</h2><p>DATE、TIME、DATETIME、TIMESTAMP、YEAR。</p>
<p>在YEAR类型中，年份值可以为2位或4位。在4位格式中，允许值的范围为1901~2155。在2位格式中，取值范围为70~99时，表示1970~1999；取值为01~69时，表示2001~2069。</p>
<p>TIMESTAMP类型与时区相关。如果在一个表中定义了两个类型为TIMESTAMP的字段，则第一个的默认值为CURRENT_TIMESTAMP，第二个的默认值为0000-00-00 00:00:00。</p>
<h2 id="2-5-复合类型"><a href="#2-5-复合类型" class="headerlink" title="2.5 复合类型"></a>2.5 复合类型</h2><p>ENUM枚举类型和SET集合类型。ENUM类型只允许从集合中取得某一个值，SET类型允许从集合中取得多个值。ENUM类型的数据最多可以包含65535个元素，而SET类型的数据最多可以包含64个元素。</p>
<p>复合数据类型ENUM和SET存储的仍然是字符串，只是数据的取值范围受到约束。</p>
<h2 id="2-6-二进制类型"><a href="#2-6-二进制类型" class="headerlink" title="2.6 二进制类型"></a>2.6 二进制类型</h2><p>BINARY、VARBINARY、BIT、TINYBLOB、BLOB、MEDIUMBLOB、LONGBLOB。</p>
<p>BIT数据类型按位为单位进行存储，而其他二进制类型的数据以字节为单位进行存储。</p>
<h1 id="3-运算符"><a href="#3-运算符" class="headerlink" title="3.运算符"></a>3.运算符</h1><h2 id="3-1-比较运算符"><a href="#3-1-比较运算符" class="headerlink" title="3.1 比较运算符"></a>3.1 比较运算符</h2><table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>!=或&lt;&gt;</td>
<td>不等于</td>
</tr>
<tr>
<td>&lt;=&gt;</td>
<td>NULL安全的不等于</td>
</tr>
<tr>
<td>IS NULL</td>
<td>为NULL</td>
</tr>
<tr>
<td>IS NOT NULL</td>
<td>不为NULL</td>
</tr>
<tr>
<td>BETWEEN AND</td>
<td>在指定范围内</td>
</tr>
<tr>
<td>IN</td>
<td>在指定集合内</td>
</tr>
<tr>
<td>LIKE</td>
<td>通配符匹配</td>
</tr>
<tr>
<td>REGEXP</td>
<td>正则表达式匹配</td>
</tr>
<tr>
<td>=</td>
<td>等于</td>
</tr>
</tbody>
</table>
<p><code>select int_field,int_field between 10 and 20,int_field in(10,17,20) from test;</code></p>
<h1 id="4-增添表记录"><a href="#4-增添表记录" class="headerlink" title="4.增添表记录"></a>4.增添表记录</h1><h2 id="4-1-INSERT语句"><a href="#4-1-INSERT语句" class="headerlink" title="4.1 INSERT语句"></a>4.1 INSERT语句</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//创建课程表</span><br><span class="line">create table course(</span><br><span class="line">    c_id int auto_increment primary key,</span><br><span class="line">    c_name varchar(20) not null,</span><br><span class="line">    c_hours int default 72</span><br><span class="line">);</span><br><span class="line">/*insert语句的使用*/</span><br><span class="line">insert into course values(null,&apos;c语言&apos;,default);</span><br><span class="line">insert into course(c_name) values(&apos;数据库&apos;); //向部分字段插入数据</span><br><span class="line">insert into course values(null,&apos;计算机网络&apos;,60);</span><br><span class="line">/*使用insert语句一次性插入多条记录*/</span><br><span class="line">//将上面course表中的原有信息删除</span><br><span class="line">truncate course;</span><br><span class="line">//一次性插入三条信息</span><br><span class="line">insert into course(c_name,c_hours) values</span><br><span class="line">	(&apos;数据库&apos;,default),</span><br><span class="line">    (&apos;计算机网络&apos;,default),</span><br><span class="line">    (&apos;C语言&apos;,60);</span><br><span class="line">/*使用insert语句将一个表中的查询结果集添加到目标表中*/</span><br><span class="line">create table course_hours_72 like course;</span><br><span class="line">insert into course_hours_72 select * from course where c_hours=72;</span><br></pre></td></tr></table></figure>
<h2 id="4-2-REPLACE语句"><a href="#4-2-REPLACE语句" class="headerlink" title="4.2 REPLACE语句"></a>4.2 REPLACE语句</h2><p>REPLACE语句与INSERT语句的功能基本相同，不同之处在于：使用REPLACE语句添加记录时，如果新记录的主键值或者唯一性约束的字段值与已有记录相同，则已有记录被删除后再添加新记录。</p>
<p><code>replace into course values(null,&#39;软件工程&#39;,65);</code></p>
<h1 id="5-修改表记录"><a href="#5-修改表记录" class="headerlink" title="5.修改表记录"></a>5.修改表记录</h1><p><code>update course set c_hours=90 where c_name=&#39;C语言&#39;;</code></p>
<p>若省略了where子句，则每个记录都要修改。</p>
<h1 id="6-删除表记录"><a href="#6-删除表记录" class="headerlink" title="6.删除表记录"></a>6.删除表记录</h1><h2 id="6-1-DELETE语句"><a href="#6-1-DELETE语句" class="headerlink" title="6.1 DELETE语句"></a>6.1 DELETE语句</h2><p><code>delete from course where c_id=1;</code></p>
<h2 id="6-2-TRUNCATE语句"><a href="#6-2-TRUNCATE语句" class="headerlink" title="6.2 TRUNCATE语句"></a>6.2 TRUNCATE语句</h2><p>清空表的所有记录。<code>truncate course;</code></p>
<p>TRUNCATE语句的功能与DELETE from table_name语句的功能相同，但使用TRUNCATE语句会重新设置自增型字段的计数起始值，而DELETE语句不会。</p>
<p><code>select auto_increment from information_schema.tables where table_name=&#39;course&#39;;</code></p>
<p>上面语句的作用是查询course表中自增字段的初始值。</p>
<h1 id="7-字符集设置"><a href="#7-字符集设置" class="headerlink" title="7.字符集设置"></a>7.字符集设置</h1><h2 id="7-1-字符集"><a href="#7-1-字符集" class="headerlink" title="7.1 字符集"></a>7.1 字符集</h2><p>默认情况下，MySQL使用的字符集为latin1，不支持中文。</p>
<p>使用MySQL命令<code>show character set;</code>即可查看当前MySQL服务实例支持的字符集和默认排序规则。</p>
<p>使用MySQL命令<code>show variables like &#39;character%&#39;;</code>可以查看当前服务实例使用的字符集信息。如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show variables like &apos;character%&apos;;</span><br><span class="line">+--------------------------+--------------------------------------------+</span><br><span class="line">| Variable_name            | Value                                      |</span><br><span class="line">+--------------------------+--------------------------------------------+</span><br><span class="line">| character_set_client     | utf8                                       |</span><br><span class="line">| character_set_connection | gbk                                        |</span><br><span class="line">| character_set_database   | utf8mb4                                    |</span><br><span class="line">| character_set_filesystem | binary                                     |</span><br><span class="line">| character_set_results    | gbk                                        |</span><br><span class="line">| character_set_server     | utf8mb4                                    |</span><br><span class="line">| character_set_system     | utf8                                       |</span><br><span class="line">| character_sets_dir       | D:\web\mysql-8.0.11-winx64\share\charsets\ |</span><br><span class="line">+--------------------------+--------------------------------------------+</span><br></pre></td></tr></table></figure>
<p>各参数信息说明：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>character_set_client</td>
<td>客户机的字符集</td>
</tr>
<tr>
<td>character_set_connection</td>
<td>数据通信链路的字符集 ，当MySQL客户机向服务器发送请求时，请求数据以该字符集进行编码。</td>
</tr>
<tr>
<td>character_set_database</td>
<td>数据库字符集。</td>
</tr>
<tr>
<td>character_set_filesystem</td>
<td>MySQL服务器文件系统的字符集。</td>
</tr>
<tr>
<td>character_set_results</td>
<td>结果集的字符集，MySQL服务器向MySQL客户机返回执行结果时以该字符集进行编码。</td>
</tr>
<tr>
<td>character_set_server</td>
<td>MySQL服务实例字符集。</td>
</tr>
<tr>
<td>character_set_system</td>
<td>元数据的字符集。</td>
</tr>
</tbody>
</table>
<h2 id="7-2-设置"><a href="#7-2-设置" class="headerlink" title="7.2 设置"></a>7.2 设置</h2><p>修改字符集后只会影响新的数据。</p>
<h3 id="7-2-1-修改my-ini配置文件"><a href="#7-2-1-修改my-ini配置文件" class="headerlink" title="7.2.1 修改my.ini配置文件"></a>7.2.1 修改my.ini配置文件</h3><h3 id="7-2-2-使用set命令"><a href="#7-2-2-使用set命令" class="headerlink" title="7.2.2 使用set命令"></a>7.2.2 使用set命令</h3><p><code>set character_set_database=utf8;</code></p>
<p>这种设置只在当前的MySQL服务器连接内有效。当打开新的MySQL客户机时，字符集将恢复为my.ini配置文件中的默认值。</p>
<h3 id="7-2-3-使用set-names命令"><a href="#7-2-3-使用set-names命令" class="headerlink" title="7.2.3 使用set names命令"></a>7.2.3 使用set names命令</h3><p>使用<code>set names utf8</code>可以一次性将character_set_client、character_set_connection、character_set_results的参数值都设置为utf8，但这种设置只在当前的MySQL服务器连接内有效。</p>
<h3 id="7-2-4-连接MySQL服务器时指定字符集"><a href="#7-2-4-连接MySQL服务器时指定字符集" class="headerlink" title="7.2.4 连接MySQL服务器时指定字符集"></a>7.2.4 连接MySQL服务器时指定字符集</h3><p><code>mysql --default-character-set=utf8 -h 127.0.0.1 -u root -p</code>相当于连接服务器后执行命令<code>set names utf8</code>。</p>
<h1 id="8-检索表记录"><a href="#8-检索表记录" class="headerlink" title="8.检索表记录"></a>8.检索表记录</h1><h2 id="8-1-SELECT基本查询"><a href="#8-1-SELECT基本查询" class="headerlink" title="8.1 SELECT基本查询"></a>8.1 SELECT基本查询</h2><h3 id="8-1-1-SELECT···FROM查询语句"><a href="#8-1-1-SELECT···FROM查询语句" class="headerlink" title="8.1.1 SELECT···FROM查询语句"></a>8.1.1 SELECT···FROM查询语句</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT [ALL|DISTINCT]&lt;目标列表达式&gt;[,&lt;目标列表达式&gt;]</span><br><span class="line">FROM &lt;表名或视图名&gt;[,&lt;表名或视图名&gt;]</span><br><span class="line">[WHERE &lt;条件表达式&gt;]</span><br><span class="line">[GROUP BY&lt;列名1&gt;[HAVING &lt;条件表达式&gt;]]</span><br><span class="line">[ORDER BY&lt;列名2&gt;[ASC|DESC]]</span><br><span class="line">[LIMIT [start,]count]</span><br></pre></td></tr></table></figure>
<p>以上结构只有SELECT子句是必不可少的，例如输出MySQL的版本号：<code>select version();</code></p>
<h3 id="8-1-2-查询指定字段信息"><a href="#8-1-2-查询指定字段信息" class="headerlink" title="8.1.2 查询指定字段信息"></a>8.1.2 查询指定字段信息</h3><p>定义别名</p>
<ul>
<li>通过“列名 列标题”的形式</li>
<li>通过“列名 AS 列标题”的形式</li>
</ul>
<h3 id="8-1-3-关键字DISTINCT"><a href="#8-1-3-关键字DISTINCT" class="headerlink" title="8.1.3 关键字DISTINCT"></a>8.1.3 关键字DISTINCT</h3><p>DISTINCT关键字表示仅仅显示不重复的数据行，重复的只显示一次。</p>
<h3 id="8-1-4-ORDER-BY子句的使用"><a href="#8-1-4-ORDER-BY子句的使用" class="headerlink" title="8.1.4 ORDER BY子句的使用"></a>8.1.4 ORDER BY子句的使用</h3><p><code>select * from course order by c_hours desc;</code></p>
<h3 id="8-1-5-LIMIT子句的使用"><a href="#8-1-5-LIMIT子句的使用" class="headerlink" title="8.1.5 LIMIT子句的使用"></a>8.1.5 LIMIT子句的使用</h3><p>LIMIT子句的用途是从结果集中进一步选取指定数量的数据行。</p>
<p>例：选取第2条记录开始的1条记录（start值从0开始）。</p>
<p><code>select * from course limit 1,1;</code></p>
<h2 id="8-2-条件查询"><a href="#8-2-条件查询" class="headerlink" title="8.2 条件查询"></a>8.2 条件查询</h2><h3 id="8-2-1-模糊查询"><a href="#8-2-1-模糊查询" class="headerlink" title="8.2.1 模糊查询"></a>8.2.1 模糊查询</h3><p>使用通配符</p>
<ul>
<li>%：代表任意多个字符</li>
<li>_：代表任意一个字符</li>
</ul>
<p>如果用户要查询的字符串本身就含有通配符，此时就需要用ESCAPE关键字对通配符进行转义。</p>
<p>例：查询会员名中含有”_”的会员信息</p>
<p><code>select * from users where u_name like &#39;%/_%&#39; escape &#39;/&#39;;</code></p>
<p>escape ‘/‘表示“/”为转义字符。</p>
<h2 id="8-3-分组查询"><a href="#8-3-分组查询" class="headerlink" title="8.3 分组查询"></a>8.3 分组查询</h2><p>若要统计users表中会员的数量，可以使用count(*)，计算出来的结果就是行数。</p>
<p><code>select count(*) from users;</code></p>
<p>若使用的是count(列名)对特定列中具有值的行进行计数，将忽略null值。</p>
<p>sum(),avg(),max(),min()函数都将忽略值为null的行。</p>
<h3 id="8-3-1-GROUP-BY子句"><a href="#8-3-1-GROUP-BY子句" class="headerlink" title="8.3.1 GROUP BY子句"></a>8.3.1 GROUP BY子句</h3><h3 id="8-3-2-HAVING子句"><a href="#8-3-2-HAVING子句" class="headerlink" title="8.3.2 HAVING子句"></a>8.3.2 HAVING子句</h3><p>用于分组后对组进行筛选。</p>
<h2 id="8-4-表的连接"><a href="#8-4-表的连接" class="headerlink" title="8.4 表的连接"></a>8.4 表的连接</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT &lt;查询列表&gt;</span><br><span class="line">FROM &lt;表名1&gt; [连接类型] JOIN &lt;表名2&gt; ON &lt;连接条件&gt;</span><br><span class="line">WHERE &lt;查询条件&gt;</span><br></pre></td></tr></table></figure>
<p>当两个表进行连接时，其运行过程通常是将第一个表中的每一行与第二个表中的所以行进行匹配，结果只包含那些匹配连接条件的行。</p>
<h3 id="8-4-1-内连接"><a href="#8-4-1-内连接" class="headerlink" title="8.4.1 内连接"></a>8.4.1 内连接</h3><p>内连接是从两个或以上的表的组合中，挑选出符合条件的数据。默认连接模式。</p>
<h3 id="8-4-2-外连接"><a href="#8-4-2-外连接" class="headerlink" title="8.4.2 外连接"></a>8.4.2 外连接</h3><p>在外连接中，参与连接的表有主从之分。使用外连接时，以主表中每行的数据去匹配从表中的数据行，如果符合条件则返回到结果集中；如果没有找到匹配行，则主表的行仍然保留，并且返回到结果集中，相应的从表中的数据行被填上null后也返回到结果集中。</p>
<h4 id="（1）左外连接"><a href="#（1）左外连接" class="headerlink" title="（1）左外连接"></a>（1）左外连接</h4><p>​    JOIN关键字左边的表为主表。<strong>LEFT OUTER JOIN</strong></p>
<h4 id="（2）右外连接"><a href="#（2）右外连接" class="headerlink" title="（2）右外连接"></a>（2）右外连接</h4><p>​    JOIN关键字右边的表为主表。<strong>RIGHT OUTER JOIN</strong></p>
<h4 id="（3）自连接"><a href="#（3）自连接" class="headerlink" title="（3）自连接"></a>（3）自连接</h4><p>​    对一个表使用自连接时，可以看做是这张表的两个副本之间的连接，必须为该表指定两个别名。</p>
<h4 id="（4）交叉连接"><a href="#（4）交叉连接" class="headerlink" title="（4）交叉连接"></a>（4）交叉连接</h4><p>​    使用交叉连接查询，如果不带where子句时，则返回笛卡尔积。<strong>CROSS JOIN</strong></p>
<h2 id="8-5-子查询"><a href="#8-5-子查询" class="headerlink" title="8.5 子查询"></a>8.5 子查询</h2><p>子查询是指在一个外层查询中包含另一个内层查询。子查询除了可以用在主查询的where子句中，也可以用在having子句中。通常将子查询写在小括号中。</p>
<h3 id="8-5-1-返回单行的子查询"><a href="#8-5-1-返回单行的子查询" class="headerlink" title="8.5.1 返回单行的子查询"></a>8.5.1 返回单行的子查询</h3><p>子查询的结果只返回一个值，并将这个返回值作为父查询的条件。</p>
<h3 id="8-5-2-返回多行的子查询"><a href="#8-5-2-返回多行的子查询" class="headerlink" title="8.5.2 返回多行的子查询"></a>8.5.2 返回多行的子查询</h3><p>子查询的结果包含多行数据。经常与IN、EXIST、ALL、ANY、SOME关键字一起使用。</p>
<h4 id="（1）IN"><a href="#（1）IN" class="headerlink" title="（1）IN"></a>（1）IN</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WHERE &lt;表达式&gt; [NOT] IN (&lt;子查询&gt;)</span><br></pre></td></tr></table></figure>
<p>​    如果主查询里的行与子查询返回的某一个行相匹配，那么IN的结果即为真。</p>
<h4 id="（2）EXIST"><a href="#（2）EXIST" class="headerlink" title="（2）EXIST"></a>（2）EXIST</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WHERE [NOT] EXIST (&lt;子查询&gt;)</span><br></pre></td></tr></table></figure>
<p>​    当子查询返回的结果不为空时，则返回真。</p>
<h4 id="（3）ALL、ANY、SOME"><a href="#（3）ALL、ANY、SOME" class="headerlink" title="（3）ALL、ANY、SOME"></a>（3）ALL、ANY、SOME</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WHERE &lt;表达式&gt;&lt;比较运算符&gt; [ALL|ANY|SOME] (&lt;子查询&gt;)</span><br></pre></td></tr></table></figure>
<p>​    ALL要求与子查询中的所有值相符合；ANY表示只要与子查询中的一个值相符合即可；SOME与ANY是同义词。</p>
<h2 id="8-6-联合查询"><a href="#8-6-联合查询" class="headerlink" title="8.6 联合查询"></a>8.6 联合查询</h2><p>联合查询是指合并两个或多个查询语句的结果集。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT 语句1</span><br><span class="line">UNION [ALL]</span><br><span class="line">SELECT 语句2</span><br></pre></td></tr></table></figure>
<p>ALL选项表示保留结果集中的重复记录，系统默认自动删除重复记录。</p>
<p>所有查询语句中的列的数量和顺序必须相同，且数据类型必须兼容。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://litost-fht.top/2018/12/17/Linux 复习/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Fang Hantao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx4.sinaimg.cn/mw690/adba74c1gy1fy3qlbnbpoj20fi08cq34.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Litost's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/17/Linux 复习/" itemprop="url">Linux课程复习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-17T14:06:50+08:00">
                2018-12-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/课程复习/" itemprop="url" rel="index">
                    <span itemprop="name">课程复习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/17/Linux 复习/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/12/17/Linux 复习/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  7.8k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  28
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>[TOC]</p>
<h1 id="Linux-复习"><a href="#Linux-复习" class="headerlink" title="Linux 复习"></a>Linux 复习</h1><h2 id="第一章"><a href="#第一章" class="headerlink" title="第一章"></a>第一章</h2><h3 id="什么是Linux"><a href="#什么是Linux" class="headerlink" title="什么是Linux"></a>什么是Linux</h3><p>Linux是一个类UNIX内核的可以自由发布的实现版本，是一个操作系统的底层核心。用户可以获得内核源代码，编译并安装，然后获得并安装其它自由发布的软件，从而创建一个完整的Linux，通常称为Linux系统。</p>
<h3 id="Linux的特点"><a href="#Linux的特点" class="headerlink" title="Linux的特点"></a>Linux的特点</h3><p>开放性，多用户，多任务，良好的用户界面，设备独立性，丰富的网络功能，可靠的系统安全，良好的可移植性。</p>
<h3 id="Linux版本"><a href="#Linux版本" class="headerlink" title="Linux版本"></a>Linux版本</h3><p>内核版本好格式：x.y.zz-www（x主版本号，y次版本号，zz次次版本号，www发行号）。X为2时，次版本号为偶数的是稳定版本，奇数是发展版本。</p>
<h3 id="Linux发行版"><a href="#Linux发行版" class="headerlink" title="Linux发行版"></a>Linux发行版</h3><p>Fedora，Debian，Mandrake，Ubuntu，Red Hat，SuSE，Linux Mint，Gentoo，Red Flag，Arch，Manjaro，Lubuntu，Clear Linux，ezgo Linux，Deepin Linux，Caldera…</p>
<h3 id="GUN计划"><a href="#GUN计划" class="headerlink" title="GUN计划"></a>GUN计划</h3><p><strong>GNU’s not Unix</strong>，开始于1984年，旨在发展一個类-Unix<br>且为自由软件的完整操作系統。</p>
<h3 id="GPL"><a href="#GPL" class="headerlink" title="GPL"></a>GPL</h3><p><strong>GNU General Public License</strong>，GNU通用公共许可证。</p>
<h3 id="Linux的运行级别有几个？"><a href="#Linux的运行级别有几个？" class="headerlink" title="Linux的运行级别有几个？"></a>Linux的运行级别有几个？</h3><p>Linux有7种运行级别。</p>
<ul>
<li>0：关机级别</li>
<li>1：单用户运行级别，启动时执行rc.sysinit和rc1.d目录下的脚本</li>
<li>2：多用户，但系统不会启动NFS，字符模式，在有些linux系统中是默认级别，具有网络功能，如Ubuntu，Debian</li>
<li>3：多用户，字符模式，具有网络功能，Red Hat常用级别</li>
<li>4：用户自定义级别</li>
<li>5：图形化界面级别，Red Hat常用级别</li>
<li>6：重启级别</li>
</ul>
<h3 id="如何切换Linux的运行级别"><a href="#如何切换Linux的运行级别" class="headerlink" title="如何切换Linux的运行级别"></a>如何切换Linux的运行级别</h3><ol>
<li>在字符终端界面上以root身份执行命令init n或telinit n，n为级别号</li>
<li>在字符终端界面执行命令stratx启动图形化界面</li>
<li>更改/etc/inittab中“id:5:initdefault”项目，把数字5改为其它，表示Linux默认以该级别启动</li>
</ol>
<h3 id="阐述GNU-Linux操作系统的基本体系结构"><a href="#阐述GNU-Linux操作系统的基本体系结构" class="headerlink" title="阐述GNU/Linux操作系统的基本体系结构"></a>阐述GNU/Linux操作系统的基本体系结构</h3><p>​    Linux操作系统的体系结构可以从两个层次上来划分。</p>
<p>​    最上面是用户空间，这是用户应用程序执行的地方。GNU C Library也在这里。它提供了连接内核的系统调用接口，还提供了在用户空间应用程序和内核之间进行转换的机制。</p>
<p>​         用户空间之下是内核空间，Linux内核正是位于这里。Linux可以进一步划分为3层。最上面是系统调用接口，它实现了一些基本的功能，例如read和write。系统调用接口之下是内核代码，可以更精确地定义为独立于体系结构的内核代码，这些代码是Linux所支持的所有处理器体系结构所通用的。在这些代码之下是依赖于体系结构的代码，构成了通常称为BSP的部分，这些代码用作给定体系结构的处理器和特定于平台的代码。</p>
<h3 id="Linux内核包含哪几部分？每部分的作用是什么？"><a href="#Linux内核包含哪几部分？每部分的作用是什么？" class="headerlink" title="Linux内核包含哪几部分？每部分的作用是什么？"></a>Linux内核包含哪几部分？每部分的作用是什么？</h3><p>​    ①系统调用接口：SCI层提供了某些机制执行从用户空间到内核的函数调用。依赖于体系结构，是一个非常有用的函数调用多路复用和多路分解服务。</p>
<p>​         ②进程管理：重点在于进程的执行。内核通过SCI提供了一个应用程序编程接口（API）来创建一个新进程，停止进程，并在它们之间进行通信和同步。还包括处理活动进程之间共享CPU的需求。</p>
<p>​         ③内存管理：管理可用内存的方式，以及物理和虚拟映射所使用的硬件机制。</p>
<p>​         ④虚拟文件系统：为文件系统提供了一个通用的接口抽象。VFS在SCI和内核所支持的文件系统之间提供了一个交换层。</p>
<p>​         ⑤网络堆栈：在设计上遵循模拟协议本身的分层体系结构。</p>
<p>​         ⑥设备驱动程序：Linux内核中有大量代码都在设备驱动程序中，它们能够运转特定的硬件设备。</p>
<p>​         ⑦依赖于体系结构的代码：尽管Linux很大程度上独立于所运行的体系结构，但是有些元素则必须考虑体系结构才能正常操作并实现更高效率。</p>
<h3 id="以根目录“-”为起点，Linux中由根目录派生何来的第一层目录有哪些？它们的主要作用是什么？"><a href="#以根目录“-”为起点，Linux中由根目录派生何来的第一层目录有哪些？它们的主要作用是什么？" class="headerlink" title="以根目录“/”为起点，Linux中由根目录派生何来的第一层目录有哪些？它们的主要作用是什么？"></a>以根目录“/”为起点，Linux中由根目录派生何来的第一层目录有哪些？它们的主要作用是什么？</h3><ul>
<li><p>/bin：常用系統程序目录</p>
</li>
<li><p>/boot：开机设定目录，也是摆放核心 vmlinuz 的地方</p>
</li>
<li><p>/dev：摆放系统设备装置文件的目录</p>
</li>
<li><p>/etc：系统配置文件，尤其 passwd, shadow</p>
</li>
<li><p>/etc/rc.d/init.d：系統开机的時候载入服务的 scripts 的摆放地点</p>
</li>
<li><p>/home：系統使用者的目录</p>
</li>
<li><p>/lib：Linux 执行或编译程序函数库目录</p>
</li>
<li><p>/mnt：软驱与光驱接入挂载的地方</p>
</li>
<li><p>/proc：系统核心与执行程序的一些信息</p>
</li>
<li><p>/root：系统管理员的目录 </p>
</li>
<li><p>/usr/bin, /bin：一般执行文件摆放的地方</p>
</li>
<li><p>/usr/sbin, /sbin：系统管理员常用指令集</p>
</li>
<li><p>/var：摆放系统日志文件的地方 </p>
</li>
<li><p>/lost+fount：摆放系统不正常产生错误时遗失的片段<img src="http://ws4.sinaimg.cn/mw690/adba74c1gy1fy46qucy51j20fr0d53z7.jpg" alt="image"></p>
</li>
</ul>
<h3 id="关机"><a href="#关机" class="headerlink" title="关机"></a>关机</h3><ul>
<li><p>shutdown –h now</p>
</li>
<li><p>halt</p>
</li>
<li><p>poweroff</p>
</li>
<li><p>init 0</p>
</li>
</ul>
<h3 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h3><ul>
<li><p>shutdown –r now</p>
</li>
<li><p>reboot</p>
</li>
<li><p>init 6</p>
</li>
</ul>
<h2 id="第三章"><a href="#第三章" class="headerlink" title="第三章"></a>第三章</h2><h3 id="什么是Shell？Shell的作用是什么？和内核之间的关系，常用shell有哪些？"><a href="#什么是Shell？Shell的作用是什么？和内核之间的关系，常用shell有哪些？" class="headerlink" title="什么是Shell？Shell的作用是什么？和内核之间的关系，常用shell有哪些？"></a>什么是Shell？Shell的作用是什么？和内核之间的关系，常用shell有哪些？</h3><p>​    Shell是一个作为用户与Linux系统间接口的程序，它允许用户向操作系统输入需要执行的命令。用户通过启动字符终端完成Shell命令的输入。Shell作为应用程序，部署在Linux内核的周围。由于Linux是一个高度模块化的操作系统，因此可以在Linux系统中安装多种Shell程序，用户根据需要选择相应的Shell程序来使用。常用的Shell：bash，csh，zsh，tcsh，ksh。</p>
<h3 id="查看支持的Shell"><a href="#查看支持的Shell" class="headerlink" title="查看支持的Shell"></a>查看支持的Shell</h3><p>​    /etc/shells</p>
<h3 id="指定用户使用某个shell"><a href="#指定用户使用某个shell" class="headerlink" title="指定用户使用某个shell"></a>指定用户使用某个shell</h3><ul>
<li><p>编辑/etc/passwd文件，将对应用户的某行的最后一列修改为选择的Shell。</p>
</li>
<li><p>chsh –s /bin/bash 将bash设置为默认shell</p>
</li>
</ul>
<h3 id="Linux文件属性"><a href="#Linux文件属性" class="headerlink" title="Linux文件属性"></a>Linux文件属性</h3><p><img src="http://ws2.sinaimg.cn/mw690/adba74c1gy1fy46nxtqwsj20d10553yl.jpg" alt="image"></p>
<p><img src="http://ws1.sinaimg.cn/mw690/adba74c1gy1fy46opx5iij209x04hmx6.jpg" alt="image"></p>
<p>​    r=4，w=2，x=1，-=0，每一组权限值由组内各个位累积而成。</p>
<h3 id="Linux文件类型"><a href="#Linux文件类型" class="headerlink" title="Linux文件类型"></a>Linux文件类型</h3><p>Linux系统中有三种<strong>基本</strong>的文件类型.</p>
<ul>
<li><p>普通文件：又分为文本文件和二进制文件；</p>
</li>
<li><p>目录文件：目录文件存储了一组相关文件的位置、大小等与文件有关的信息；</p>
</li>
<li><p>设备文件：Linux系统把每一个I/O设备都看成一个文件，与普通文件一样处理，这样可以使文件与设备的操作尽可能统一 ；</p>
<h4 id="Linux中文件类型归纳如下："><a href="#Linux中文件类型归纳如下：" class="headerlink" title="Linux中文件类型归纳如下："></a>Linux中文件类型归纳如下：</h4><ul>
<li>-：普通文件</li>
<li>d：目录文件</li>
<li>l：链接文件</li>
<li>p：管道文件</li>
<li>s：Socket文件</li>
<li>c：字符设备文件</li>
<li>b：块设备文件</li>
</ul>
</li>
</ul>
<h3 id="软链接与硬链接有什么区别？如何创建？"><a href="#软链接与硬链接有什么区别？如何创建？" class="headerlink" title="软链接与硬链接有什么区别？如何创建？"></a>软链接与硬链接有什么区别？如何创建？</h3><p>​    <strong>硬链接</strong>：给文件创建一个副本，同时建立两者之间的链接关系。修改其中一个，与其链接的文件同时被修改；如果删除其中一个，对其余文件无影响。磁盘上只有一份数据。硬链接是在同一个文件系统中。</p>
<p>​    <strong>软链接</strong>：创建一个特殊的文件，其内容是另一个文件的位置。它只是一个快捷方式，删除了源文件，这个链接文件也就没有用了。软链接可以跨越不同的文件系统。</p>
<p>​    硬链接和软链接都不会将原本的文件复制一份，只会占用很少的磁盘空间。</p>
<p>​    创建硬链接：ln 源对象 目的对象</p>
<p>​    创建软链接： ln -s 源对象 目的对象</p>
<h3 id="显示目录与文件操作命令"><a href="#显示目录与文件操作命令" class="headerlink" title="显示目录与文件操作命令"></a>显示目录与文件操作命令</h3><h4 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h4><p>用于显示指定目录的目录和文件。</p>
<ul>
<li>-a：列出全部，包括隐藏文件</li>
<li>-d：只显示目录</li>
<li>-i：显示索引节点</li>
<li>-l：详细信息</li>
<li>-R：显示指定目录及子目录下的内容</li>
<li>-t：以时间排序</li>
<li>-S：以文件大小排序，从大到小</li>
<li>-r：反向排序</li>
<li>-s：磁盘块数表示大小</li>
</ul>
<h3 id="显示文件内容命令"><a href="#显示文件内容命令" class="headerlink" title="显示文件内容命令"></a>显示文件内容命令</h3><h4 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h4><p>文件查看和连接</p>
<ul>
<li>-n：行号，从1开始</li>
<li>-b：对空白行不编号</li>
<li>-s：遇到连续两行以上的空白行就替换为一行</li>
</ul>
<h4 id="more"><a href="#more" class="headerlink" title="more"></a>more</h4><p>分页显示，按空格下一页，b键上一页</p>
<ul>
<li><p>-num：一次显示的行数</p>
</li>
<li><p>+num：从第num行开始显示</p>
</li>
</ul>
<h4 id="less"><a href="#less" class="headerlink" title="less"></a>less</h4><p>分页显示，滚动浏览，</p>
<ul>
<li>-n：显示时去掉行号</li>
</ul>
<h4 id="head"><a href="#head" class="headerlink" title="head"></a>head</h4><p>显示前N行内容，默认为10</p>
<ul>
<li>-c：显示前多少字节</li>
<li>-n：显示前n行</li>
<li>-q：不显示文件名，默认</li>
<li>-v：显示文件名</li>
</ul>
<h4 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h4><p>显示后N行内容，默认为10</p>
<ul>
<li>选项与head类似</li>
<li>-f：动态显示后N行内容，Ctrl+C终止</li>
</ul>
<h3 id="创建和删除目录命令"><a href="#创建和删除目录命令" class="headerlink" title="创建和删除目录命令"></a>创建和删除目录命令</h3><h4 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h4><p>创建目录</p>
<ul>
<li>-p：目录不存在的话创建一个</li>
<li>-m：在创建目录的同时设置目录权限</li>
</ul>
<h4 id="rmdir"><a href="#rmdir" class="headerlink" title="rmdir"></a>rmdir</h4><p>删除<strong>空</strong>目录</p>
<ul>
<li>-p：当子目录被删除后使它也成为空目录时，一并删除</li>
</ul>
<h3 id="创建和删除文件命令"><a href="#创建和删除文件命令" class="headerlink" title="创建和删除文件命令"></a>创建和删除文件命令</h3><h4 id="touch"><a href="#touch" class="headerlink" title="touch"></a>touch</h4><p>改变文件的时间记录或创建空文件</p>
<ul>
<li>-a：改变读取时间</li>
<li>-m：改变修改时间</li>
<li>-c：若目的文件不存在，不会创建新文件</li>
<li>-r：使用参考文件的时间记录</li>
</ul>
<h4 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h4><ul>
<li>-i：逐一确认</li>
<li>-f：无需确认，强制删除</li>
<li>-r：递归执行</li>
<li>-v：显示执行过程</li>
</ul>
<h3 id="改变目录和查看当前目录命令"><a href="#改变目录和查看当前目录命令" class="headerlink" title="改变目录和查看当前目录命令"></a>改变目录和查看当前目录命令</h3><h4 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h4><ul>
<li>~：用户主目录</li>
<li>-：上一次目录</li>
</ul>
<h4 id="pwd"><a href="#pwd" class="headerlink" title="pwd"></a>pwd</h4><p>显示工作目录</p>
<h3 id="复制和移动命令"><a href="#复制和移动命令" class="headerlink" title="复制和移动命令"></a>复制和移动命令</h3><h4 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h4><p>复制文件或目录</p>
<ul>
<li>-a：相当于-pdr</li>
<li>-d：若源文件是链接文件，则复制链接文件属性</li>
<li>-f：强制</li>
<li>-i：覆盖询问</li>
<li>-l：进行硬链接的链接文件建立，而非复制</li>
<li>-p：连同文件属性一起复制，而非预设</li>
<li>-r：递归</li>
<li>-s：复制成为软链接文件</li>
<li>-u：目的文件更旧则更新</li>
</ul>
<h4 id="mv"><a href="#mv" class="headerlink" title="mv"></a>mv</h4><p>移动或更名</p>
<ul>
<li>-b：覆盖前备份</li>
<li>-f：直接覆盖</li>
<li>-i：覆盖前询问</li>
</ul>
<h3 id="查找命令"><a href="#查找命令" class="headerlink" title="查找命令"></a>查找命令</h3><h4 id="find"><a href="#find" class="headerlink" title="find"></a>find</h4><p>从指定目录开始，递归查找。</p>
<h4 id="locate"><a href="#locate" class="headerlink" title="locate"></a>locate</h4><p>快速查找系统数据库中指定的内容。</p>
<ul>
<li>-q：不会显示任何错误信息</li>
<li>-e&lt;dir>：排除</li>
</ul>
<h3 id="文件链接命令"><a href="#文件链接命令" class="headerlink" title="文件链接命令"></a>文件链接命令</h3><h4 id="ln"><a href="#ln" class="headerlink" title="ln"></a>ln</h4><p>为源文件创建一个链接，但不复制源文件。</p>
<ul>
<li>-f：链接前先将与目的对象同名的文件删除</li>
<li>-s：软链接</li>
<li>-b：覆写时备份</li>
</ul>
<h3 id="修改目录与文件权限和所属用户和所属组命令"><a href="#修改目录与文件权限和所属用户和所属组命令" class="headerlink" title="修改目录与文件权限和所属用户和所属组命令"></a>修改目录与文件权限和所属用户和所属组命令</h3><h4 id="chmod"><a href="#chmod" class="headerlink" title="chmod"></a>chmod</h4><p>更改权限。</p>
<p>格式：[ugoa…] [+-=][rwxX…]</p>
<ul>
<li>-R：递归执行</li>
</ul>
<h4 id="chown"><a href="#chown" class="headerlink" title="chown"></a>chown</h4><p>改变所属用户、所属组。root权限</p>
<p>chown [选项] 用户名[:组名] 文件名或目录 </p>
<ul>
<li>-h：只对链接进行变更</li>
</ul>
<h4 id="chgrp"><a href="#chgrp" class="headerlink" title="chgrp"></a>chgrp</h4><p>改变所属组，不包括软链接</p>
<h3 id="文件内容提取工具"><a href="#文件内容提取工具" class="headerlink" title="文件内容提取工具"></a>文件内容提取工具</h3><h4 id="cut"><a href="#cut" class="headerlink" title="cut"></a>cut</h4><p>从指定文件中过滤或提取特定内容，并显示在当前屏幕上。</p>
<p>提取/etc/passwd文件中的第1列</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cut -d: -f1 /etc/passwd</span><br></pre></td></tr></table></figure>
<p>将/etc/passwd文件从第2个字母至第5个字母的内容提取出来 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cut -c2-5 /etc/passwd</span><br></pre></td></tr></table></figure>
<h3 id="文件状态处理工具"><a href="#文件状态处理工具" class="headerlink" title="文件状态处理工具"></a>文件状态处理工具</h3><h4 id="wc"><a href="#wc" class="headerlink" title="wc"></a>wc</h4><p>统计一个文件有多少字、字节、行、字串，默认是行、字和字节数。</p>
<ul>
<li>-m：字串</li>
<li>-l：行</li>
<li>-w：字</li>
<li>-c：字节</li>
</ul>
<h4 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h4><p>默认升序</p>
<ul>
<li>-u：去重</li>
<li>-r：反向</li>
<li>-n：按数字</li>
<li>-f：忽略大小写</li>
</ul>
<h3 id="文件处理工具"><a href="#文件处理工具" class="headerlink" title="文件处理工具"></a>文件处理工具</h3><h4 id="tr"><a href="#tr" class="headerlink" title="tr"></a>tr</h4><p>用来从标准输入中通过替换或删除操作进行字符转换。</p>
<ul>
<li><p>-c：用字符串1中字符集的补集替换此字符集，要求字符集为ASCII。</p>
</li>
<li><p>-d：删除字符串1中所有输入字符。</p>
</li>
<li><p>-s：删除所有重复出现字符序列，只保留第一个；即将重复出现字符串压缩为一个字符串。</p>
</li>
</ul>
<h3 id="备份与压缩命令"><a href="#备份与压缩命令" class="headerlink" title="备份与压缩命令"></a>备份与压缩命令</h3><h4 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h4><p>打包但不压缩，也可解包。</p>
<ul>
<li>-c：创建打包文件</li>
<li>-v：详细信息</li>
<li>-f：必选</li>
<li>-z：使用gzip来压缩或解压缩文件。</li>
<li>-x：解除打包内容</li>
<li>-t：列出内容</li>
<li>-r：追加</li>
<li>-u：更新</li>
</ul>
<h4 id="gzip"><a href="#gzip" class="headerlink" title="gzip"></a>gzip</h4><p>压缩和解压缩。</p>
<ul>
<li>-d：解压</li>
</ul>
<h4 id="unzip"><a href="#unzip" class="headerlink" title="unzip"></a>unzip</h4><p>用于解压缩采用winzip压缩的文件</p>
<ul>
<li>-x：解压缩</li>
<li>-d：指定目录</li>
</ul>
<h3 id="描述ln、cp、mv、rm命令对文件链接数和索引节点号的影响。"><a href="#描述ln、cp、mv、rm命令对文件链接数和索引节点号的影响。" class="headerlink" title="描述ln、cp、mv、rm命令对文件链接数和索引节点号的影响。"></a>描述ln、cp、mv、rm命令对文件链接数和索引节点号的影响。</h3><p>​    硬链接产生的文件的索引节点号和源文件相同，且文件链接数加1；软链接文件的文件节点号和源文件并不相同，软链接并不会让文件的索引节点数变多；cp复制后的文件拥有另一个索引节点号，不增加文件链接数；mv改名源文件的文件拥有和原来相同的文件链接数和索引节点号，可是改名会导致软链接文件不可用；rm删除硬链接会使链接数减1，其余不变。</p>
<h2 id="第四章"><a href="#第四章" class="headerlink" title="第四章"></a>第四章</h2><h3 id="vi编辑器三种工作模式之间是如何切换的，各自有什么功能？"><a href="#vi编辑器三种工作模式之间是如何切换的，各自有什么功能？" class="headerlink" title="vi编辑器三种工作模式之间是如何切换的，各自有什么功能？"></a>vi编辑器三种工作模式之间是如何切换的，各自有什么功能？</h3><ul>
<li>命令模式：进入vi的默认模式，可以对文件进行复制、粘贴、删除、移动光标等</li>
<li>末行模式：由于文件的保存、退出、查找、替换、设置行号等</li>
<li>插入模式：此模式下可进行字符输入</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">D[进入vi] --&gt; A</span><br><span class="line">A[命令模式] --&gt;|i,o,a,R| B[插入模式]</span><br><span class="line">B[插入模式] --&gt;|esc| A[命令模式]</span><br><span class="line">A[命令模式] --&gt;|:,/,?| C[末行模式]</span><br><span class="line">C[末行模式] --&gt;|esc| A[命令模式]</span><br></pre></td></tr></table></figure>
<h3 id="vi与Shell交互"><a href="#vi与Shell交互" class="headerlink" title="vi与Shell交互"></a>vi与Shell交互</h3><p>在末行模式下用“！”符号来访问Linux的Shell </p>
<ul>
<li><p>：!netstat -an | more </p>
</li>
<li><p>：! /bin/bash </p>
</li>
</ul>
<h3 id="UNIX2dos和dos2UNIX"><a href="#UNIX2dos和dos2UNIX" class="headerlink" title="UNIX2dos和dos2UNIX"></a>UNIX2dos和dos2UNIX</h3><p>Windows 换行结束符号有两个控制字符，一个是归位字符（carriage return，^M），另一个是换行字符（new line，^J）。 </p>
<p>Linux中只使用一个换行字符\n（功能同^J）。  </p>
<h2 id="第五章"><a href="#第五章" class="headerlink" title="第五章"></a>第五章</h2><h3 id="X-Window概念"><a href="#X-Window概念" class="headerlink" title="X Window概念"></a>X Window概念</h3><p>​    X Window系统是一种以位图方式显示的软件窗口系统。</p>
<h3 id="X-Window组成"><a href="#X-Window组成" class="headerlink" title="X Window组成"></a>X Window组成</h3><p>​    X Window系统由三个基本元素组成：X Server、X Client和二者通信的通道。</p>
<h3 id="X-Window原理"><a href="#X-Window原理" class="headerlink" title="X Window原理"></a>X Window原理</h3><ul>
<li>C/S模式应用程序</li>
<li>X Protocol（X协议）</li>
<li>实现了X<br>Protocol的软件 </li>
<li>X Server和WM</li>
</ul>
<h3 id="有哪些X-Window"><a href="#有哪些X-Window" class="headerlink" title="有哪些X Window"></a>有哪些X Window</h3><ol>
<li><p>XFree86。一个免费的X Server软件。</p>
</li>
<li><p>Xorg。这是运行在大多数Linux系统上的X Server，Red Hat Enterprises Linux 5.0上也是如此。</p>
</li>
<li><p>Accelerated X。由Accelerated X Product开发，在图形的加速显示上做了改进。</p>
</li>
<li><p>X Server suSE。SuSE Team’s开发。</p>
</li>
</ol>
<h3 id="说明X-Window系统中，X-Server和X-Client的作用。"><a href="#说明X-Window系统中，X-Server和X-Client的作用。" class="headerlink" title="说明X Window系统中，X Server和X Client的作用。"></a>说明X Window系统中，X Server和X Client的作用。</h3><p>​    X Server是全部X Window系统的核心，是运行在系统后台的进程，管理用户图形界面的显示，鼠标、键盘等输入设备与后台程序的通信等。它最重要的功能是显示。X Server可以创建视窗，在视窗中绘图和文字，回应X Client程序的请求，但它不会自己完成，只有X Client程序提出需求后才完成动作。</p>
<p>​    X Client的功能大致可分为两部分：向X Server发出请求只是一部分功能，其他的功能是为用户执行程序而准备的，例如输入文件信息、计算等。</p>
<p><img src="http://wx2.sinaimg.cn/mw690/adba74c1gy1fy40s0nri3j20g30bi3zr.jpg" alt="image"></p>
<h2 id="第六章"><a href="#第六章" class="headerlink" title="第六章"></a>第六章</h2><h3 id="挂载的概念"><a href="#挂载的概念" class="headerlink" title="挂载的概念"></a>挂载的概念</h3><p>​    计算机系统中，所有的存储设备都是以目录树的形式对文件进行管理的 。在Linux系统中，所有的文件都是在以“/”目录为根的一棵“大”目录树中进行管理。如果要使用USB存储设备、光盘或软盘等存储设备，必须将这些设备中的“小”目录树像嫁接一样挂载（mount）到Linux系统的“大”目录树中。 </p>
<h3 id="挂载的文件系统类型"><a href="#挂载的文件系统类型" class="headerlink" title="挂载的文件系统类型"></a>挂载的文件系统类型</h3><p>ext、FAT、ext2（extended file system ）、ext3、MINIX、MSDOS、SYSV</p>
<ul>
<li>Minix：Linux系统的第一个文件系统</li>
<li>ext：1992年设计，是第一个专为linux设计的文件系统</li>
<li>ext2： 1993年设计，提高性能</li>
<li>ext3：采用日志式文件系统技术（Journalling<br>Filesystem），目前各个linux发行版使用</li>
</ul>
<h3 id="挂载设备的过程"><a href="#挂载设备的过程" class="headerlink" title="挂载设备的过程"></a>挂载设备的过程</h3><h4 id="查看设备"><a href="#查看设备" class="headerlink" title="查看设备"></a>查看设备</h4><p>查看系统的存储设备</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk –l</span><br></pre></td></tr></table></figure>
<h4 id="挂载设备"><a href="#挂载设备" class="headerlink" title="挂载设备"></a>挂载设备</h4><p>建立挂载点目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /mnt</span><br><span class="line">mkdir usb</span><br></pre></td></tr></table></figure>
<p>挂载相关设备</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -o iocharset=cp936 /dev/sda1 /mnt/usb</span><br></pre></td></tr></table></figure>
<h4 id="访问设备"><a href="#访问设备" class="headerlink" title="访问设备"></a>访问设备</h4><h4 id="卸载设备"><a href="#卸载设备" class="headerlink" title="卸载设备"></a>卸载设备</h4><p>用户在使用完挂载设备后，不能直接将挂载设备从系统拔出，否则会出现问题，严重的会导致系统崩溃。用户必须先执行卸载命令然后再该设备拔出</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umount /mnt/usb</span><br></pre></td></tr></table></figure>
<h3 id="Linux系统为什么可以支持大部分的文件系统？"><a href="#Linux系统为什么可以支持大部分的文件系统？" class="headerlink" title="Linux系统为什么可以支持大部分的文件系统？"></a>Linux系统为什么可以支持大部分的文件系统？</h3><p>​    Linux系统使用一种统一的接口——虚拟文件系统(VFS)。通过VFS将不同文件系统的实现细节隐藏起来，因而从外部看上去，所有的文件系统都是一样的。(当内核要使用文件系统时，都是经由VFS这层接口来使用。当用户去读取一个文件的内容时，它不会因为这个文件位于不同文件系统需要使用不同的方式和命令来读取。因为这件事VFS已经帮用户实现了。)</p>
<p><img src="http://wx3.sinaimg.cn/mw690/adba74c1gy1fy40z1mq0ej20b407mq39.jpg" alt="image"></p>
<h3 id="磁盘管理命令"><a href="#磁盘管理命令" class="headerlink" title="磁盘管理命令"></a>磁盘管理命令</h3><h4 id="mkfs"><a href="#mkfs" class="headerlink" title="mkfs"></a>mkfs</h4><p>创建文件系统</p>
<h4 id="df"><a href="#df" class="headerlink" title="df"></a>df</h4><p>报告已安装文件系统的磁盘空间使用情况</p>
<h4 id="du"><a href="#du" class="headerlink" title="du"></a>du</h4><p>统计目录或文件所占磁盘空间的大小</p>
<ul>
<li>-b：以字节为单位，默认为块（1块=1024字节）</li>
<li>-s：只显示占用的块总数</li>
</ul>
<h3 id="简述Linux系统的引导过程"><a href="#简述Linux系统的引导过程" class="headerlink" title="简述Linux系统的引导过程"></a>简述Linux系统的引导过程</h3><p><img src="http://ws2.sinaimg.cn/mw690/adba74c1gy1fy413p5wqsj20dl09g0tw.jpg" alt="image"></p>
<h3 id="调度启动进程"><a href="#调度启动进程" class="headerlink" title="调度启动进程"></a>调度启动进程</h3><h4 id="at"><a href="#at" class="headerlink" title="at"></a>at</h4><ul>
<li><p>在shell提示符下输入”at 时间”，然后按回车键。这时在下一行shell会等待用户继续输入要执行的命令。每一行输入一个命令，所有命令都输入完毕后按Ctrl+d键结束。</p>
</li>
<li><p>将各个命令写入shell脚本中，然后使用下面格式设置在指定时间执行shell脚本中的命令：at 时间 –f 脚本文件。 </p>
</li>
</ul>
<h4 id="crontab"><a href="#crontab" class="headerlink" title="crontab"></a>crontab</h4><p>crontab –e,/var/spool/cron</p>
<ul>
<li>－e：执行文字编辑器来设定时程表，内定的文字编辑器是vi</li>
<li>－r：删除目前的时程表</li>
<li>－l：列出目前的时程表</li>
</ul>
<h3 id="进程管理命令"><a href="#进程管理命令" class="headerlink" title="进程管理命令"></a>进程管理命令</h3><h4 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h4><ul>
<li>-e：显示所有进程；</li>
<li><p>-f：全格式</p>
</li>
<li><p>-h：不显示标题；</p>
</li>
<li><p>-l：采用详细的格式来显示进程；</p>
</li>
<li><p>-a：显示所有终端上的进程，包括其他用户的进程；</p>
</li>
<li><p>-r：只显示当前终端上正在运行的进程；</p>
</li>
<li><p>-x：显示所有进程，不以终端来区分；</p>
</li>
<li><p>-u：以用户为主的格式来显示进程； </p>
</li>
</ul>
<h4 id="kill"><a href="#kill" class="headerlink" title="kill"></a>kill</h4><ul>
<li><p>-s：指定需要送出的信号。既可以是信号名也可以是信号名对应的数字。</p>
</li>
<li><p>-p：指定kill命令只显示命名进程的pid，并不真正送出任何信号。</p>
</li>
<li><p>-l：显示信号名称列表，该列表也可以在/usr/include/linux/signal.h文件中找到。</p>
</li>
</ul>
<p>强行中止（经常使用杀掉）一个进程标识号为324的进程：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">＃kill －9 324</span><br></pre></td></tr></table></figure>
<h3 id="要求每星期五晚上21点30分开始以oracle用户执行-home-oracle-exportdata-sh程序导出数据库数据文件，请给出解决方案。"><a href="#要求每星期五晚上21点30分开始以oracle用户执行-home-oracle-exportdata-sh程序导出数据库数据文件，请给出解决方案。" class="headerlink" title="要求每星期五晚上21点30分开始以oracle用户执行/home/oracle/exportdata.sh程序导出数据库数据文件，请给出解决方案。"></a>要求每星期五晚上21点30分开始以oracle用户执行/home/oracle/exportdata.sh程序导出数据库数据文件，请给出解决方案。</h3><p>​    编写crontab文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br><span class="line">30 21 * * 5  /home/oracle/exportdata.sh</span><br></pre></td></tr></table></figure>
<h3 id="进程的概念"><a href="#进程的概念" class="headerlink" title="进程的概念"></a>进程的概念</h3><p>Linux操作系统包括三种不同类型的进程，每种进程都有自己的特点和属性：</p>
<ul>
<li><p>交互进程:由shell启动的进程。</p>
</li>
<li><p>批处理进程:这种进程和终端没有联系，是一个进程序列。</p>
</li>
<li><p>守护进程:在后台持续运行的进程。</p>
</li>
</ul>
<h2 id="第七章"><a href="#第七章" class="headerlink" title="第七章"></a>第七章</h2><h3 id="配置网络接口可以使用三种不同的工具"><a href="#配置网络接口可以使用三种不同的工具" class="headerlink" title="配置网络接口可以使用三种不同的工具"></a>配置网络接口可以使用三种不同的工具</h3><h4 id="使用网络接口配置程序netconfig或setup"><a href="#使用网络接口配置程序netconfig或setup" class="headerlink" title="使用网络接口配置程序netconfig或setup"></a>使用网络接口配置程序netconfig或setup</h4><h4 id="使用图形配置工具"><a href="#使用图形配置工具" class="headerlink" title="使用图形配置工具"></a>使用图形配置工具</h4><h4 id="使用终端命令ifconfig"><a href="#使用终端命令ifconfig" class="headerlink" title="使用终端命令ifconfig"></a>使用终端命令ifconfig</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig &lt;设备名&gt; &lt;IP地址&gt; netmask &lt;掩码&gt;</span><br></pre></td></tr></table></figure>
<p>​    使用ifconfig命令的修改都是临时性的，计算机重启时就会失效。若要永久生效，需要修改/etc/sysconfig/network-scripts/ifcfg-ethN文件或者使用图形界面配置工具操作。</p>
<h3 id="网络接口的启动与禁用"><a href="#网络接口的启动与禁用" class="headerlink" title="网络接口的启动与禁用"></a>网络接口的启动与禁用</h3><h4 id="1-在网络配置界面中，通过“激活”或者“解除”按钮可以启动或者禁用网络接口，"><a href="#1-在网络配置界面中，通过“激活”或者“解除”按钮可以启动或者禁用网络接口，" class="headerlink" title="1.在网络配置界面中，通过“激活”或者“解除”按钮可以启动或者禁用网络接口，"></a>1.在网络配置界面中，通过“激活”或者“解除”按钮可以启动或者禁用网络接口，</h4><h4 id="2-网络控制程序network"><a href="#2-网络控制程序network" class="headerlink" title="2.网络控制程序network"></a>2.网络控制程序network</h4><p>​    <code>/etc/rc.d/init.d/network  start|stop|restart</code></p>
<p>​    <code>service network restart|stop</code> </p>
<h4 id="3-命令ifconfig"><a href="#3-命令ifconfig" class="headerlink" title="3.命令ifconfig :"></a>3.命令ifconfig :</h4><p>​    ifconfig &lt;设备名&gt; [up|down]</p>
<p>​    <code>ifconfig eth0 down</code></p>
<h4 id="4-命令ifup-ifdown"><a href="#4-命令ifup-ifdown" class="headerlink" title="4.命令ifup/ifdown"></a>4.命令ifup/ifdown</h4><p>​    <code>ifup eth0</code></p>
<p>​    <code>ifdown eth0</code> </p>
<h3 id="网络相关配置文件"><a href="#网络相关配置文件" class="headerlink" title="网络相关配置文件"></a>网络相关配置文件</h3><table>
<thead>
<tr>
<th>文件</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>/etc/sysconfig/network-scripts/ifcfg-ethN</td>
<td>系统网络设备的配置文件。例如：第一块以太网卡对应的文件为ifcfg-eth0</td>
</tr>
<tr>
<td>/etc/sysconfig/network</td>
<td>最基本的网络信息，系统启动时读取该文件</td>
</tr>
<tr>
<td>/etc/host.conf</td>
<td>域名解析的控制文件</td>
</tr>
<tr>
<td>/etc/hosts</td>
<td>域名或主机名与IP地址的映射文件</td>
</tr>
<tr>
<td>/etc/resolv.conf</td>
<td>域名服务器设置文件</td>
</tr>
<tr>
<td>/etc/protocols</td>
<td>定义使用的网络互联协议及协议号</td>
</tr>
<tr>
<td>/etc/services</td>
<td>设定主机的不同端口的网络服务</td>
</tr>
</tbody>
</table>
<h3 id="守护进程概念原理"><a href="#守护进程概念原理" class="headerlink" title="守护进程概念原理"></a>守护进程概念原理</h3><p>​    守护进程的工作原理就是在C/S模式下，服务器监听在一个特定的端口上等待客户连接。连接成功后服务器和客户端通过端口进行数据通信。</p>
<h3 id="以图解方式解释服务的xinetd工作模式和stand-alone工作模式，并说明选择不同工作模式的原则。"><a href="#以图解方式解释服务的xinetd工作模式和stand-alone工作模式，并说明选择不同工作模式的原则。" class="headerlink" title="以图解方式解释服务的xinetd工作模式和stand-alone工作模式，并说明选择不同工作模式的原则。"></a>以图解方式解释服务的xinetd工作模式和stand-alone工作模式，并说明选择不同工作模式的原则。</h3><p>​    运行独立的守护进程工作方式称作：stand-alone。它是Unix传统的C/S模式的访问模式。服务器监听(listen)在一个特定的端口上等待客户端的联机。如果客户端产生一个连接请求，守护进程就创建(fork)一个子服务器响应这个连接，而主服务器继续监听。以保持多个子服务器池等待下一个客户端请求</p>
<p>​    Web服务器Apache和邮件服务器Sendmail、域名服务器Bind应用独立守护进程模式启动。因为这些负载很大服务器上，预先创子服务器，可以提高客户的服务速度。</p>
<p><img src="http://ws4.sinaimg.cn/mw690/adba74c1gy1fy41m5jot7j20cb06omxe.jpg" alt="image"></p>
<p>​    从守护进程的概念可以看出，对于系统所要通过的每一种服务，都必须运行一个监听某个端口连接所发生的守护进程，这通常意味着资源浪费。为了解决这个问题，Linux引进了“网络守护进程服务程序”的概念。RHEL5使用的网络守护进程是xinted（eXtended InterNET daemon）。和stand－alone模式相对应xinted模式也称 Internet Super－Server（超级服务器）。</p>
<p>​    xinetd能够同时监听多个指定的端口，在接收用户请求时，它能够根据用户请求的端口不同，启动不同的网络服务进程来处理这些用户请求。可以把xinetd看作一个管理启动服务的管理服务器，它决定把一个客户请求交给某个程序处理，然后启动相应的守护进程。</p>
<p>​    运行单个xinetd就可以同时监听所有服务端口，这样就降低了系统开销，保护系统资源。但是对于访问量大、经常出现并发访问时，xinetd想要频繁启动对应的网络服务进程，反而会导致系统性能下降。</p>
<p><img src="http://ws3.sinaimg.cn/mw690/adba74c1gy1fy41y43817j20cl05zdg1.jpg" alt="image"></p>
<h3 id="ftp服务"><a href="#ftp服务" class="headerlink" title="ftp服务"></a>ftp服务</h3><h4 id="（1）vsFTPd的启动和关闭"><a href="#（1）vsFTPd的启动和关闭" class="headerlink" title="（1）vsFTPd的启动和关闭"></a>（1）vsFTPd的启动和关闭</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service vsftpd [start|stop|restart]</span><br><span class="line">或</span><br><span class="line">/etc/rc.d/init.d/vsftpd [start|stop|restart]</span><br></pre></td></tr></table></figure>
<h4 id="（2）关闭防火墙和SELinux对FTP的禁用状态"><a href="#（2）关闭防火墙和SELinux对FTP的禁用状态" class="headerlink" title="（2）关闭防火墙和SELinux对FTP的禁用状态"></a>（2）关闭防火墙和SELinux对FTP的禁用状态</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service iptables stop</span><br><span class="line">setsebool -P ftpd_disable_trans on</span><br><span class="line">setsebool -P ftp_home_dir on</span><br></pre></td></tr></table></figure>
<h4 id="（3）用另一台机器进行ftp登录"><a href="#（3）用另一台机器进行ftp登录" class="headerlink" title="（3）用另一台机器进行ftp登录"></a>（3）用另一台机器进行ftp登录</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ftp &lt;FTP服务器IP地址或主机名&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>ls：列出远程主机目录内容</li>
<li>pwd：显示远程主机工作目录</li>
<li>cd：在远程主机上切换目录</li>
<li>lcd：在本地主机上切换目录</li>
<li>get filename：下载文件</li>
<li>put filename：上传文件</li>
<li>！：转到shell中</li>
</ul>
<h3 id="telnet服务"><a href="#telnet服务" class="headerlink" title="telnet服务"></a>telnet服务</h3><h4 id="（1）为Linux配置IP地址"><a href="#（1）为Linux配置IP地址" class="headerlink" title="（1）为Linux配置IP地址"></a>（1）为Linux配置IP地址</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig eth0 192.168.0.11 netmask 255.255.255.0</span><br></pre></td></tr></table></figure>
<h4 id="（2）编辑-etc-xinetd-d-krb5-telnet"><a href="#（2）编辑-etc-xinetd-d-krb5-telnet" class="headerlink" title="（2）编辑/etc/xinetd.d/krb5-telnet"></a>（2）编辑/etc/xinetd.d/krb5-telnet</h4><p>​    修改成disable = no</p>
<h4 id="（3）编辑-etc-securetty"><a href="#（3）编辑-etc-securetty" class="headerlink" title="（3）编辑/etc/securetty"></a>（3）编辑/etc/securetty</h4><p>​    添加以下行。</p>
<p>​    tty1</p>
<p>​    tty2</p>
<p>​    …</p>
<p>​    ttyN</p>
<p>​    pts/0</p>
<p>​    pts/1</p>
<p>​    …</p>
<p>​    pts/N</p>
<p>​    该文件允许我们规定用户可以从哪个终端设备登录。</p>
<h4 id="（4）重新启动服务"><a href="#（4）重新启动服务" class="headerlink" title="（4）重新启动服务"></a>（4）重新启动服务</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service xinetd restart</span><br></pre></td></tr></table></figure>
<h4 id="（5）测试"><a href="#（5）测试" class="headerlink" title="（5）测试"></a>（5）测试</h4><p>​    自行建立普通用户，用普通用户登录，然后通过su切换为root用户</p>
<h2 id="第八章"><a href="#第八章" class="headerlink" title="第八章"></a>第八章</h2><h3 id="Grep命令"><a href="#Grep命令" class="headerlink" title="Grep命令"></a>Grep命令</h3><p>-v,-w,^d,^-</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>^</td>
<td>锚定行的开始 如：’^grep’匹配所有以grep开头的行。</td>
</tr>
<tr>
<td>$</td>
<td>锚定行的结束 如：’grep$’匹配所有以grep结尾的行</td>
</tr>
<tr>
<td>.</td>
<td>匹配一个非换行符的字符 如：’gr.p’匹配gr后接一个任意字符，然后是p。</td>
</tr>
<tr>
<td>*</td>
<td>匹配零个或多个先前字符 如：’<em>grep’匹配所有一个或多个空格后紧跟grep的行。 .</em>一起用代表任意字符。</td>
</tr>
<tr>
<td>[]</td>
<td>匹配一个指定范围内的字符，如’[Gg]rep’匹配Grep和grep。</td>
</tr>
<tr>
<td>[^]</td>
<td>匹配一个不在指定范围内的字符，如：’[^A-FH-Z]rep’匹配不包含A-R和T-Z的一个字母开头，紧跟rep的行。</td>
</tr>
<tr>
<td>\(..\)</td>
<td>标记匹配字符，如’(love)‘，love被标记为1。</td>
</tr>
<tr>
<td>\&lt;</td>
<td>锚定单词的开始，如:’\&lt;grep’匹配包含以grep开头的单词的行。</td>
</tr>
<tr>
<td>></td>
<td>锚定单词的结束，如’grep>‘匹配包含以grep结尾的单词的行。</td>
</tr>
<tr>
<td>x\{m\}</td>
<td>重复字符x，m次，如：’0{5}‘匹配包含5个o的行。</td>
</tr>
<tr>
<td>x\{m,\}</td>
<td>重复字符x,至少m次，如：’o{5,}‘匹配至少有5个o的行</td>
</tr>
<tr>
<td>x\{m,n\}</td>
<td>重复字符x，至少m次，不多于n次，如：’o{5,10}‘匹配5–10个o的行。</td>
</tr>
<tr>
<td>\w</td>
<td>匹配文字和数字字符，也就是[A-Za-z0-9]，如：’G\w*p’匹配以G后跟零个或多个文字或数字字符，然后是p。</td>
</tr>
<tr>
<td>\W</td>
<td>\w的反置形式，匹配一个或多个非单词字符，如点号句号等。</td>
</tr>
<tr>
<td>\b</td>
<td>单词锁定符，如: ‘\bgrep\b’只匹配grep</td>
</tr>
</tbody>
</table>
<p>$ ls -l | grep ‘^a’ </p>
<p>通过管道过滤ls -l输出的内容，只显示以a开头的行。</p>
<p>$ grep ‘test’ d* </p>
<p>显示所有以d开头的文件中包含test的行。</p>
<p>$ grep ‘test’ aa bb cc </p>
<p>显示在aa，bb，cc文件中匹配test的行。</p>
<p>$ grep ‘[a-z]{5}‘ aa </p>
<p>显示所有包含每个字符串至少有5个连续小写字符的字符串的行</p>
<h3 id="Awk命令"><a href="#Awk命令" class="headerlink" title="Awk命令"></a>Awk命令</h3><p>awk ‘{print $2}’ </p>
<p>选择第二列</p>
<h3 id="简述Shell程序的特点和用途。"><a href="#简述Shell程序的特点和用途。" class="headerlink" title="简述Shell程序的特点和用途。"></a>简述Shell程序的特点和用途。</h3><p>​         shell程序可以认为是将shell命令按照控制结构组织到一个文本文件中，批量的交给shell去执行。</p>
<p>​    特点：不同的shell解释器使用不同的shell命令语法；shell程序解释执行，不生成可以执行的二进制文件，Shell使用解释型语言，不需重新编译。</p>
<p>​    用途：可以帮助用户完成特定的任务，提高使用、维护系统的效率；了解shell程序可以更好的配置和使用linux；它适合于编写执行相对简单的任务的工具，因为它更强调易于配置、维护和可移植性；它不适合用来完成时间紧迫型和处理器忙碌型的任务。</p>
<h3 id="使用引号"><a href="#使用引号" class="headerlink" title="使用引号"></a>使用引号</h3><ul>
<li><p>如果在参数中包含一个或多个空白字符，必须给参数加双引号</p>
</li>
<li><p>如果把一个带有$字符的变量放在双引号中，程序执行到该行时会把变量替换为它的值</p>
</li>
<li><p>如果你把它放在单引号中，不会发生替换现象</p>
</li>
<li><p>可用\字符取消$的特殊含义</p>
</li>
<li><p>字符串通常被放在双引号中</p>
</li>
<li>由单引号括起来的字符都作为普通字符出现</li>
<li>倒引号括起来的字符串被shell解释为命令行，在执行时shell会先执行该命令行，并以它的标准输出结果取代整个倒引号部分</li>
</ul>
<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><table>
<thead>
<tr>
<th>环境变量</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>$HOME</td>
<td>用户的主目录</td>
</tr>
<tr>
<td>$IFS</td>
<td>内部的域分隔符，一般为空格符、制表符或换行符</td>
</tr>
<tr>
<td>$PATH</td>
<td>寻找命令或可执行文件的搜索路径列表，路径以冒号分隔</td>
</tr>
<tr>
<td>$PS1</td>
<td>主命令提示符，默认为“$”</td>
</tr>
<tr>
<td>$PS2</td>
<td>从命令提示符，默认为“&gt;”</td>
</tr>
<tr>
<td>$TERM</td>
<td>使用的终端类型</td>
</tr>
</tbody>
</table>
<h3 id="特殊变量"><a href="#特殊变量" class="headerlink" title="特殊变量"></a>特殊变量</h3><table>
<thead>
<tr>
<th>特殊变量</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>$$</td>
<td>Shell脚本的进程号</td>
</tr>
<tr>
<td>$?</td>
<td>紧邻的前驱命令的返回值</td>
</tr>
<tr>
<td>$*</td>
<td>参数列表，各个参数之间用环境变量IFS中的第一个字符分隔开</td>
</tr>
<tr>
<td>$@</td>
<td>参数列表，它是$*的一种变体，它不使用IFS环境变量，所以当IFS为空时，参数的值不会结合在一起</td>
</tr>
<tr>
<td>$0</td>
<td>Shell脚本名称</td>
</tr>
<tr>
<td>$n</td>
<td>位置参数1，2…n</td>
</tr>
<tr>
<td>$#</td>
<td>参数个数</td>
</tr>
</tbody>
</table>
<h3 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h3><table>
<thead>
<tr>
<th>测试文件属性</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>-f  fn</td>
<td>如果fn存在且fn为普通文件则返回真，否则返回假。</td>
</tr>
<tr>
<td>-b  fn</td>
<td>如果fn存在且fn为块设备则返回真，否则返回假。</td>
</tr>
<tr>
<td>-e  fn</td>
<td>如果fn存在则返回真，否则返回假。</td>
</tr>
<tr>
<td>-d  fn</td>
<td>如果fn 存在且fn为目录则返回真，否则返回假。</td>
</tr>
<tr>
<td>-r  fn</td>
<td>如果fn存在且fn可读则返回真，否则返回假。</td>
</tr>
<tr>
<td>-w  fn</td>
<td>如果fn存在且fn可写则返回真，否则返回假。</td>
</tr>
<tr>
<td>-x  fn</td>
<td>如果fn存在且fn可执行则返回真，否则返回假。</td>
</tr>
<tr>
<td>-O  fn</td>
<td>如果fn存在且被当前用户拥有则返回真，否则返回假。</td>
</tr>
<tr>
<td>-L  fn</td>
<td>如果fn存在且fn为符号链接则返回真，否则返回假。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>测试字符串属性</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>string_1   = string_2</td>
<td>如果string_1和string_2两个字符串相等则返回真，否则返回假；</td>
</tr>
<tr>
<td>string_1   != string_2</td>
<td>如果string_1和string_2两个字符串不相等则返回真，否则返回假；</td>
</tr>
<tr>
<td>-z   string</td>
<td>如果字符串string的长度为0则返回真，否则返回假；</td>
</tr>
<tr>
<td>-n   string</td>
<td>如果字符串string长度不为0则返回真，否则返回假；</td>
</tr>
<tr>
<td>string</td>
<td>同-n string，如果字符串string长度不为0返回真，否则返回假。</td>
</tr>
</tbody>
</table>
<h3 id="if"><a href="#if" class="headerlink" title="if"></a>if</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if 条件1</span><br><span class="line">then</span><br><span class="line">命令</span><br><span class="line">[elif 条件2</span><br><span class="line">then</span><br><span class="line">命令]</span><br><span class="line">[else</span><br><span class="line">命令]</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<h3 id="case"><a href="#case" class="headerlink" title="case"></a>case</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">case 条件 in</span><br><span class="line">模式1)</span><br><span class="line">	命令1</span><br><span class="line">	；；</span><br><span class="line">[模式2）</span><br><span class="line">	命令2</span><br><span class="line">	；；</span><br><span class="line">...............</span><br><span class="line">模式n）</span><br><span class="line">	命令n</span><br><span class="line">	；；]</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for 变量 [in 列表]</span><br><span class="line">do</span><br><span class="line">	命令（通常用到循环变量）</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<h3 id="while-until"><a href="#while-until" class="headerlink" title="while/until"></a>while/until</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while/until 条件</span><br><span class="line">do</span><br><span class="line">	命令</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<h2 id="第九章"><a href="#第九章" class="headerlink" title="第九章"></a>第九章</h2><h3 id="简述GCC的用法和常用参数的含义。"><a href="#简述GCC的用法和常用参数的含义。" class="headerlink" title="简述GCC的用法和常用参数的含义。"></a>简述GCC的用法和常用参数的含义。</h3><p>​    基本用法：gcc [options]  [filenames]</p>
<p>​    其中options就是编译器所需要的选项，filenames就是给出相关的文件名称。    </p>
<p>​    -c 只编译，不链接成为可执行文件，由.c源代码文件生成.o目标文件。</p>
<p>​    -o filename 确定输出的文件名称为filename，输出的文件可以是预处理文件、汇编文件、目标文件和可执行文件。</p>
<p>​    -g 在可执行文件中加入调试信息，方便进行调试。</p>
<p>​    -E 指定GCC在生成预处理文件后停止。</p>
<p>​    -S 指定GCC在生成汇编文件后停止。</p>
<p>​    -w 禁止所有警告</p>
<h2 id="第十章"><a href="#第十章" class="headerlink" title="第十章"></a>第十章</h2><h3 id="简述X-Window的编程架构。"><a href="#简述X-Window的编程架构。" class="headerlink" title="简述X Window的编程架构。"></a>简述X Window的编程架构。</h3><p>X服务器：运行在用户的本地机器上，在屏幕上完成低层的绘图操作。</p>
<p>X客户端：是以X窗口系统作为GUI的任何程序，它等候X服务器传送的用户事件，然后通过给X服务器发送重绘消息来响应。</p>
<p>X协议：X服务器和X客户端之间的通讯协议。</p>
<p>Xlib库：是X客户端间接用于产生X协议消息的库，它提供一个非常底层的API、允许客户端在X服务器上绘出非常基本的元素。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://litost-fht.top/2018/12/14/图形学复习/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Fang Hantao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx4.sinaimg.cn/mw690/adba74c1gy1fy3qlbnbpoj20fi08cq34.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Litost's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/14/图形学复习/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-14T10:37:02+08:00">
                2018-12-14
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/12/14/图形学复习/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/12/14/图形学复习/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  2k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  8
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><h3 id="计算机图形硬件"><a href="#计算机图形硬件" class="headerlink" title="计算机图形硬件"></a>计算机图形硬件</h3><ul>
<li><p>输入设备</p>
<ul>
<li><p>键盘</p>
</li>
<li><p>鼠标</p>
</li>
<li><p>操纵杆</p>
</li>
<li><p>触摸屏</p>
</li>
<li><p>数据手套</p>
</li>
<li><p>语音系统</p>
</li>
</ul>
</li>
<li><p>输出设备</p>
<ul>
<li><p>视频显示设备</p>
<ul>
<li><p>平板显示器</p>
</li>
<li><p>虚拟现实显示系统</p>
</li>
<li><p>增强现实显示系统</p>
</li>
</ul>
</li>
<li><p>打印设备</p>
</li>
</ul>
</li>
</ul>
<h3 id="计算机图形软件"><a href="#计算机图形软件" class="headerlink" title="计算机图形软件"></a>计算机图形软件</h3><p>•分类</p>
<p>​    •专用软件</p>
<p>​    •通用SDK</p>
<p>​        •底层SDK：OpenGL、Direct3D、WebGL（three.js）</p>
<p>​        •高级SDK：Unity3D</p>
<p>•坐标表示</p>
<p>​    •模型坐标系</p>
<p>​    •世界坐标系</p>
<p>​    •设备坐标系</p>
<p>•图形功能</p>
<p>​    •图元：图形的基本构成单元（点、线、面等）</p>
<p>​    •属性：图元的特性（颜色、线型等）</p>
<p>​    •几何变换：大小、位置、方向</p>
<p>​    •…</p>
<h2 id="OpenGL介绍"><a href="#OpenGL介绍" class="headerlink" title="OpenGL介绍"></a>OpenGL介绍</h2><p>用来描述图元、属性、几何变换和各种图形操作的跨平台函数库</p>
<h3 id="开发环境配置"><a href="#开发环境配置" class="headerlink" title="开发环境配置"></a>开发环境配置</h3><h3 id="OpenGL程序"><a href="#OpenGL程序" class="headerlink" title="OpenGL程序"></a>OpenGL程序</h3><h2 id="直线生成"><a href="#直线生成" class="headerlink" title="直线生成"></a>直线生成</h2><h3 id="画点"><a href="#画点" class="headerlink" title="画点"></a>画点</h3><p><img src="C:\Users\Fang\AppData\Roaming\Typora\typora-user-images\1544752825243.png" alt="1544752825243"></p>
<p><img src="/C:/Users/Fang/AppData/Roaming/Typora/typora-user-images/1544752917411.png" alt="1544752917411"></p>
<p><img src="/C:/Users/Fang/AppData/Roaming/Typora/typora-user-images/1544752937377.png" alt="1544752937377"></p>
<p><img src="/C:/Users/Fang/AppData/Roaming/Typora/typora-user-images/1544752944319.png" alt="1544752944319"></p>
<h3 id="画线"><a href="#画线" class="headerlink" title="画线"></a>画线</h3><p><img src="/C:/Users/Fang/AppData/Roaming/Typora/typora-user-images/1544753009112.png" alt="1544753009112"></p>
<p><img src="/C:/Users/Fang/AppData/Roaming/Typora/typora-user-images/1544752997252.png" alt="1544752997252"></p>
<p><img src="/C:/Users/Fang/AppData/Roaming/Typora/typora-user-images/1544753015405.png" alt="1544753015405"></p>
<p><img src="/C:/Users/Fang/AppData/Roaming/Typora/typora-user-images/1544753025225.png" alt="1544753025225"></p>
<h3 id="直线公式"><a href="#直线公式" class="headerlink" title="直线公式"></a>直线公式</h3><p><img src="/C:/Users/Fang/AppData/Roaming/Typora/typora-user-images/1544753096090.png" alt="1544753096090"></p>
<h3 id="DDA算法"><a href="#DDA算法" class="headerlink" title="DDA算法"></a>DDA算法</h3><h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p><img src="/../../图片md/1544753732110-1544753732277.png" alt="1544753732110"></p>
<h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">round</span><span class="params">(<span class="keyword">double</span> a)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">int</span>(a+<span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DDA</span><span class="params">(<span class="keyword">int</span> x0,<span class="keyword">int</span> y0,<span class="keyword">int</span> xed,<span class="keyword">int</span> yed)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> dx = xed-x0, dy = yed-y0, steps;</span><br><span class="line">    <span class="keyword">double</span> x=x0, y=y0, xIncrement, yIncrement;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">abs</span>(dx)&gt;<span class="built_in">abs</span>(dy))&#123;</span><br><span class="line">        steps = <span class="built_in">abs</span>(dx);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        steps = <span class="built_in">abs</span>(dy);</span><br><span class="line">    &#125;</span><br><span class="line">    xIncrement = <span class="keyword">double</span>(dx)/<span class="keyword">double</span>(steps);</span><br><span class="line">    yIncrement = <span class="keyword">double</span>(dy)/<span class="keyword">double</span>(steps);</span><br><span class="line">	glBegin(GL_POINTS);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;=steps;k++)&#123;</span><br><span class="line">        glVertex2i(round(x),round(y));</span><br><span class="line">        x += xIncrement;</span><br><span class="line">        y += yIncrement;</span><br><span class="line">    &#125;</span><br><span class="line">    glEnd();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><p>比直接处理直线方程的算法快？</p>
<h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><ul>
<li><p>取整运算、浮点运算的累积误差影响像素坐标计算精度</p>
</li>
<li><p>取整运算、浮点运算的影响运算效率</p>
</li>
</ul>
<h3 id="Bresenham算法"><a href="#Bresenham算法" class="headerlink" title="Bresenham算法"></a>Bresenham算法</h3><h4 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a>代码实现</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Bresenham line-drawing procedure for |m| &lt; 1.0. */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">lineBres</span> <span class="params">(<span class="keyword">int</span> x0, <span class="keyword">int</span> y0, <span class="keyword">int</span> xEnd, <span class="keyword">int</span> yEnd)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> dx = <span class="built_in">fabs</span> (xEnd - x0), dy = <span class="built_in">fabs</span>(yEnd - y0);</span><br><span class="line">    <span class="keyword">int</span> p = <span class="number">2</span> * dy - dx;</span><br><span class="line">    <span class="keyword">int</span> twoDy = <span class="number">2</span> * dy, twoDyMinusDx = <span class="number">2</span> * (dy - dx);</span><br><span class="line">    <span class="keyword">int</span> x, y;</span><br><span class="line">     <span class="comment">/* Determine which endpoint to use as start position. */</span></span><br><span class="line">    <span class="keyword">if</span> (x0 &gt; xEnd) &#123;</span><br><span class="line">        x = xEnd;</span><br><span class="line">        y = yEnd;</span><br><span class="line">        xEnd = x0;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        x = x0;</span><br><span class="line">        y = y0;</span><br><span class="line">    &#125;</span><br><span class="line">    setPixel (x, y);</span><br><span class="line">	<span class="keyword">while</span> (x &lt; xEnd) &#123;</span><br><span class="line">        x++;</span><br><span class="line">        <span class="keyword">if</span> (p &lt; <span class="number">0</span>)</span><br><span class="line">            p += twoDy;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            y++;</span><br><span class="line">            p += twoDyMinusDx;</span><br><span class="line">        &#125;</span><br><span class="line">        setPixel (x, y);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="曲线曲面生成"><a href="#曲线曲面生成" class="headerlink" title="曲线曲面生成"></a>曲线曲面生成</h2><h3 id="圆生成算法"><a href="#圆生成算法" class="headerlink" title="圆生成算法"></a>圆生成算法</h3><p><img src="E:/图片md/1544767629504-1544767629610.png" alt="1544767629504"></p>
<p><img src="E:/图片md/1544767084342-1544767084598.png" alt="1544767084342"></p>
<h3 id="椭圆生成算法"><a href="#椭圆生成算法" class="headerlink" title="椭圆生成算法"></a>椭圆生成算法</h3><p><img src="E:/图片md/1544772068892-1544772069052.png" alt="1544772068892"></p>
<p><img src="E:/图片md/1544772075732-1544772075892.png" alt="1544772075732"></p>
<h3 id="二次曲面"><a href="#二次曲面" class="headerlink" title="二次曲面"></a>二次曲面</h3><h4 id="球面"><a href="#球面" class="headerlink" title="球面"></a>球面</h4><p><img src="E:/图片md/1544772204423-1544772204612.png" alt="1544772204423"></p>
<h4 id="椭球面"><a href="#椭球面" class="headerlink" title="椭球面"></a>椭球面</h4><p><img src="E:/图片md/1544772228709-1544772228948.png" alt="1544772228709"></p>
<h3 id="样条曲线、曲面"><a href="#样条曲线、曲面" class="headerlink" title="样条曲线、曲面"></a>样条曲线、曲面</h3><p>利用多项式曲线段形成的这种连续曲线称为样条曲线，简称为样条。</p>
<h4 id="OpenGL的Bezier样条曲线函数"><a href="#OpenGL的Bezier样条曲线函数" class="headerlink" title="OpenGL的Bezier样条曲线函数"></a>OpenGL的Bezier样条曲线函数</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//生成曲线</span></span><br><span class="line">GLfloat ctrlPts[<span class="number">4</span>][<span class="number">3</span>] = &#123; &#123;<span class="number">-40.0</span>, <span class="number">40.0</span>, <span class="number">0.0</span>&#125;,</span><br><span class="line">                           &#123;<span class="number">-10.0</span>, <span class="number">200.0</span>, <span class="number">0.0</span>&#125;,</span><br><span class="line">                           &#123;<span class="number">10.0</span>, <span class="number">-200.0</span>, <span class="number">0.0</span>&#125;, </span><br><span class="line">                           &#123;<span class="number">40.0</span>, <span class="number">40.0</span>, <span class="number">0.0</span>&#125;&#125;;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">glMap1*(GL_MAP1_VERTEX_3, uMin, uMax, stride, nPts, *ctrlPts);</span></span><br><span class="line"><span class="comment">uMin,uMax是参数u的最小最大值，通常取0和1</span></span><br><span class="line"><span class="comment">三维笛卡尔坐标控制点坐标在ctrlPts数组中</span></span><br><span class="line"><span class="comment">nPts为数组元素个数</span></span><br><span class="line"><span class="comment">stride表示位移量，一个坐标到下一个坐标的数据值的数量</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">glMap1f(GL_MAP1_VERTEX_3, <span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">3</span>, <span class="number">4</span>, *ctrlPts);</span><br><span class="line">glEnable(GL_MAP1_VERTEX_3);</span><br><span class="line"><span class="comment">//绘制曲线</span></span><br><span class="line">GLint k;</span><br><span class="line">glColor3f(<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>); </span><br><span class="line">glBegin(GL_LINE_STRIP);                                       </span><br><span class="line">    <span class="keyword">for</span>(k = <span class="number">0</span>; k &lt;= <span class="number">50</span>; k++)    </span><br><span class="line">        glEvalCoord1f(GLfloat (k) / <span class="number">50.0</span>);</span><br><span class="line">glEnd();</span><br><span class="line"><span class="comment">//绘制控制点</span></span><br><span class="line">glColor(<span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>); </span><br><span class="line">glPointSize(<span class="number">5.0</span>);.</span><br><span class="line">glBegin(GL_POINTS); </span><br><span class="line">    <span class="keyword">for</span>(k = <span class="number">0</span>; k &lt; <span class="number">4</span>; k++)    </span><br><span class="line">        glVertex3fv(&amp;ctrlPts[k][<span class="number">0</span>]);</span><br><span class="line">glEnd();</span><br></pre></td></tr></table></figure>
<h4 id="OpenGL的Bezier样条曲面函数"><a href="#OpenGL的Bezier样条曲面函数" class="headerlink" title="OpenGL的Bezier样条曲面函数"></a>OpenGL的Bezier样条曲面函数</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">GLfloat ctrlPts [<span class="number">4</span>][<span class="number">4</span>][<span class="number">3</span>] = &#123;</span><br><span class="line">	&#123;&#123;<span class="number">-1.5</span>,<span class="number">-1.5</span>,<span class="number">4.0</span>&#125;, &#123;<span class="number">-0.5</span>,<span class="number">-1.5</span>,<span class="number">2.0</span>&#125;, &#123;<span class="number">-0.5</span>,<span class="number">-1.5</span>,<span class="number">-1.0</span>&#125;, &#123;<span class="number">1.5</span>,<span class="number">-1.5</span>,<span class="number">2.0</span>&#125;&#125;,</span><br><span class="line">	&#123;&#123;<span class="number">-1.5</span>,<span class="number">-0.5</span>,<span class="number">1.0</span>&#125;, &#123;<span class="number">-0.5</span>,<span class="number">-0.5</span>,<span class="number">3.0</span>&#125;, &#123;<span class="number">0.5</span>,<span class="number">-0.5</span>,<span class="number">0.0</span>&#125;, &#123;<span class="number">1.5</span>,<span class="number">-0.5</span>,<span class="number">-1.0</span>&#125;&#125;,</span><br><span class="line">	&#123;&#123;<span class="number">-1.5</span>,<span class="number">0.5</span>,<span class="number">4.0</span>&#125;, &#123;<span class="number">-0.5</span>,<span class="number">0.5</span>,<span class="number">0.0</span>&#125;, &#123; <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">3.0</span>&#125;, &#123; <span class="number">1.5</span>, <span class="number">0.5</span>, <span class="number">4.0</span>&#125;&#125;,</span><br><span class="line">	&#123;&#123;<span class="number">-1.5</span>,<span class="number">1.5</span>,<span class="number">-2.0</span>&#125;, &#123;<span class="number">-0.5</span>,<span class="number">1.5</span>,<span class="number">-2.0</span>&#125;, &#123; <span class="number">0.5</span>, <span class="number">1.5</span>, <span class="number">0.0</span>&#125;, &#123; <span class="number">1.5</span>, <span class="number">1.5</span>, <span class="number">-1.0</span>&#125;&#125; &#125;;</span><br><span class="line">glMap2f (GL_MAP2_VERTEX_3, </span><br><span class="line">         <span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">3</span>, <span class="number">4</span>, </span><br><span class="line">         <span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">12</span>, <span class="number">4</span>,</span><br><span class="line">         &amp;ctrlPts[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line">glEnable (GL_MAP2_VERTEX_3);</span><br><span class="line">GLint k, j;</span><br><span class="line">glColor3f (<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>);</span><br><span class="line"><span class="keyword">for</span> (k = <span class="number">0</span>; k &lt;= <span class="number">8</span>; k++) &#123;</span><br><span class="line">    glBegin (GL_LINE_STRIP); </span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt;= <span class="number">40</span>; j++)  </span><br><span class="line">            glEvalCoord2f (GLfloat (j) / <span class="number">40.0</span>, GLfloat (k) / <span class="number">8.0</span>);</span><br><span class="line">    glEnd ( );</span><br><span class="line">    glBegin (GL_LINE_STRIP);</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt;= <span class="number">40</span>; j++)  </span><br><span class="line">            glEvalCoord2f (GLfloat (k) / <span class="number">8.0</span>, GLfloat (j) / <span class="number">40.0</span>);</span><br><span class="line">    glEnd ( );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="区域填充"><a href="#区域填充" class="headerlink" title="区域填充"></a>区域填充</h2><h3 id="OpenGL填充函数"><a href="#OpenGL填充函数" class="headerlink" title="OpenGL填充函数"></a>OpenGL填充函数</h3><p><img src="E:/图片md/1544792839504.png" alt="1544792839504"></p>
<p><img src="E:/图片md/1544792867702.png" alt="1544792867702"></p>
<p><img src="/1544792887030.png" alt="1544792887030"></p>
<p><img src="/1544792923420.png" alt="1544792923420"></p>
<p><img src="/1544792941610.png" alt="1544792941610"></p>
<p>​    左上角和右下角</p>
<h3 id="扫描线填充算法"><a href="#扫描线填充算法" class="headerlink" title="扫描线填充算法"></a>扫描线填充算法</h3><h3 id="四联通、八联通填充方法"><a href="#四联通、八联通填充方法" class="headerlink" title="四联通、八联通填充方法"></a>四联通、八联通填充方法</h3><h2 id="几何变换"><a href="#几何变换" class="headerlink" title="几何变换"></a>几何变换</h2><h3 id="二维几何变换"><a href="#二维几何变换" class="headerlink" title="二维几何变换"></a>二维几何变换</h3><h4 id="平移"><a href="#平移" class="headerlink" title="平移"></a>平移</h4><p><img src="/1544793962034.png" alt="1544793962034"></p>
<h4 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h4><p><img src="/1544793987822.png" alt="1544793987822"></p>
<h4 id="放缩"><a href="#放缩" class="headerlink" title="放缩"></a>放缩</h4><p><img src="/1544794081967.png" alt="1544794081967"></p>
<h4 id="齐次坐标"><a href="#齐次坐标" class="headerlink" title="齐次坐标"></a>齐次坐标</h4><p><img src="/1544794344826.png" alt="1544794344826"></p>
<h4 id="二维变换矩阵"><a href="#二维变换矩阵" class="headerlink" title="二维变换矩阵"></a>二维变换矩阵</h4><p><img src="/1544794375578.png" alt="1544794375578"></p>
<h4 id="矩阵合并特性"><a href="#矩阵合并特性" class="headerlink" title="矩阵合并特性"></a>矩阵合并特性</h4><p><img src="/1544794483018.png" alt="1544794483018"></p>
<h3 id="三维几何变换"><a href="#三维几何变换" class="headerlink" title="三维几何变换"></a>三维几何变换</h3><h4 id="旋转-1"><a href="#旋转-1" class="headerlink" title="旋转"></a>旋转</h4><p><img src="/1544838323979.png" alt="1544838323979"></p>
<p><img src="/1544838526849.png" alt="1544838526849"></p>
<p><img src="/1544838548499.png" alt="1544838548499"></p>
<p><img src="/1544838585852.png" alt="1544838585852"></p>
<p><img src="/1544838603213.png" alt="1544838603213"></p>
<h5 id="一般旋转"><a href="#一般旋转" class="headerlink" title="一般旋转"></a>一般旋转</h5><ol>
<li>平移对象，使得旋转轴通过坐标原点；</li>
<li>旋转对象使得旋转轴与某一坐标轴重合；</li>
<li>绕该坐标轴完成指定的旋转；</li>
<li>利用逆旋转使旋转轴回到其原始方向；</li>
<li>利用逆平移使旋转轴回到其原始位置。</li>
</ol>
<h3 id="缩放"><a href="#缩放" class="headerlink" title="缩放"></a>缩放</h3><p><img src="/1544840444829.png" alt="1544840444829"></p>
<h3 id="应用-1"><a href="#应用-1" class="headerlink" title="应用"></a>应用</h3><ul>
<li>产品设计</li>
<li>生产制造</li>
<li>生物医学</li>
</ul>
<h2 id="二维-三维观察"><a href="#二维-三维观察" class="headerlink" title="二维/三维观察"></a>二维/三维观察</h2><h3 id="世界坐标、屏幕坐标"><a href="#世界坐标、屏幕坐标" class="headerlink" title="世界坐标、屏幕坐标"></a>世界坐标、屏幕坐标</h3><p><img src="/1544848321043.png" alt="1544848321043"></p>
<h3 id="裁剪算法"><a href="#裁剪算法" class="headerlink" title="裁剪算法"></a>裁剪算法</h3><h4 id="线段-Cohen-Sutherland"><a href="#线段-Cohen-Sutherland" class="headerlink" title="线段-Cohen-Sutherland"></a>线段-Cohen-Sutherland</h4><p><img src="/1544874098074.png" alt="1544874098074"></p>
<h4 id="线段-Nicholl-Lee-Nicholl"><a href="#线段-Nicholl-Lee-Nicholl" class="headerlink" title="线段-Nicholl-Lee-Nicholl"></a>线段-Nicholl-Lee-Nicholl</h4><p><img src="/1544875802399.png" alt="1544875802399"></p>
<p><img src="/1544875751203.png" alt="1544875751203"></p>
<p><img src="/1544875767295.png" alt="1544875767295"></p>
<h4 id="多边形填充区-Sutherland-Hodgman"><a href="#多边形填充区-Sutherland-Hodgman" class="headerlink" title="多边形填充区-Sutherland-Hodgman"></a>多边形填充区-Sutherland-Hodgman</h4><p><img src="/1544875912032.png" alt="1544875912032"></p>
<p><img src="/1544876468893.png" alt="1544876468893"></p>
<p><img src="/1544876534026.png" alt="1544876534026"></p>
<h4 id="多边形填充区-Weiler-Atherton"><a href="#多边形填充区-Weiler-Atherton" class="headerlink" title="多边形填充区- Weiler-Atherton"></a>多边形填充区- Weiler-Atherton</h4><p><img src="/1544877349903.png" alt="1544877349903"></p>
<p><img src="/1544877334052.png" alt="1544877334052"></p>
<h4 id="三维"><a href="#三维" class="headerlink" title="三维"></a>三维</h4><p><img src="/1544877595562.png" alt="1544877595562"></p>
<p><img src="/1544878239180.png" alt="1544878239180"></p>
<h3 id="平行投影-透视投影"><a href="#平行投影-透视投影" class="headerlink" title="平行投影\透视投影"></a>平行投影\透视投影</h3><p><img src="/1544878819072.png" alt="1544878819072"><img src="/1544878830833.png" alt="1544878830833"></p>
<h3 id="爆炸图、剖视图"><a href="#爆炸图、剖视图" class="headerlink" title="爆炸图、剖视图"></a>爆炸图、剖视图</h3><p><img src="/1544878909453.png" alt="1544878909453"></p>
<p><img src="/1544878923968.png" alt="1544878923968"></p>
<h3 id="相关的OpenGL函数"><a href="#相关的OpenGL函数" class="headerlink" title="相关的OpenGL函数"></a>相关的OpenGL函数</h3><h2 id="可见面判别算法"><a href="#可见面判别算法" class="headerlink" title="可见面判别算法"></a>可见面判别算法</h2><p>物空间和像空间算法</p>
<h3 id="后向面判别"><a href="#后向面判别" class="headerlink" title="后向面判别"></a>后向面判别</h3><p><img src="/1544879455118.png" alt="1544879455118"></p>
<h3 id="深度缓存法"><a href="#深度缓存法" class="headerlink" title="深度缓存法"></a>深度缓存法</h3><p><img src="/1544879680841.png" alt="1544879680841"></p>
<p><img src="/1544879635496.png" alt="1544879635496"></p>
<h3 id="A缓存法"><a href="#A缓存法" class="headerlink" title="A缓存法"></a>A缓存法</h3><p><img src="/1544880006880.png" alt="1544880006880"></p>
<h3 id="深度排序法（画家算法）"><a href="#深度排序法（画家算法）" class="headerlink" title="深度排序法（画家算法）"></a>深度排序法（画家算法）</h3><p><img src="/1544880020748.png" alt="1544880020748"></p>
<p><img src="/1544880839220.png" alt="1544880839220"></p>
<p><img src="/1544880860032.png" alt="1544880860032"></p>
<h3 id="四叉树法"><a href="#四叉树法" class="headerlink" title="四叉树法"></a>四叉树法</h3><p><img src="/1544880944837.png" alt="1544880944837"></p>
<p><img src="/1544880893586.png" alt="1544880893586"></p>
<p><img src="/1544881117454.png" alt="1544881117454"></p>
<p>上述图有两处错误</p>
<h2 id="应用专题"><a href="#应用专题" class="headerlink" title="应用专题"></a>应用专题</h2><h3 id="二维图像与机器视觉"><a href="#二维图像与机器视觉" class="headerlink" title="二维图像与机器视觉"></a>二维图像与机器视觉</h3><p>​    人眼能识别的自然景象或图像源是一种模拟信号，为了使计算机能够记录和处理图像，必须首先使其数字化。数字化后的图像成为数字图像。数字图像可以定义为一个二维函数f(x,y)，其中x 和y是空间坐标，在(x,y)坐标处的幅度值f称为图像在该点坐标的强度或灰度值，该值的大小由图像本身决定。在数字图像中，x、y和f都是有限的离散的数值。所以数字图像是由有限的元素（像素）组成的二维网格阵列，其中每一个元素有一个特定的位置和数值。一个M行和N列的数字图像可以由上图表示。</p>
<p>​    图像分辨率是组成一幅图像的像素密度的度量方法，用每英寸多少个像素点（dpi，dot per inch ）表示，它确定了组成一幅图像的像素密度。采样是决定图像分辨率的主要因素，从根本上讲，图像分辨率决定了图像上可识别的最小的细节。同样大小的一幅原图，如果数字化时图像分辨率高，则组成该图的像素点数目越多，看起来就越逼真。</p>
<h3 id="三维图形与机器视觉"><a href="#三维图形与机器视觉" class="headerlink" title="三维图形与机器视觉"></a>三维图形与机器视觉</h3><h4 id="三维几何变换-思考问题"><a href="#三维几何变换-思考问题" class="headerlink" title="三维几何变换-思考问题"></a>三维几何变换-思考问题</h4><p>长方体P1（-1，-1，-1）、P2（1，1，1），如何得到中心在（3，2，3），长、宽分别为5和3的立方体？</p>
<p>提示：利用放缩、旋转、平移等几何变换</p>
<p>原中心在（0，0，0）</p>
<h4 id="物理建模"><a href="#物理建模" class="headerlink" title="物理建模"></a>物理建模</h4><p>•重量</p>
<p>•惯性</p>
<p>•表面光滑度和粗糙度</p>
<p>•软硬度</p>
<p>•综合演示：刚体动态、刚体破坏、弹性体破坏</p>
<h4 id="基于视频的高级应用：三维重构"><a href="#基于视频的高级应用：三维重构" class="headerlink" title="基于视频的高级应用：三维重构"></a>基于视频的高级应用：三维重构</h4><h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><h4 id="动画的基本原理"><a href="#动画的基本原理" class="headerlink" title="动画的基本原理"></a>动画的基本原理</h4><p>“视觉暂留”效应</p>
<h4 id="动画的分类"><a href="#动画的分类" class="headerlink" title="动画的分类"></a>动画的分类</h4><ul>
<li>按创作方式分类<ul>
<li>帧动画：指构成动画的基本单位是帧，很多帧组成一部动画片。</li>
<li>矢量动画：经过计算机计算而生成的动画，其画面只有一帧，主要表现变换的图形、线条、文字和图案。</li>
</ul>
</li>
<li>按表现形式分类<ul>
<li>二维动画：又叫“平面动画”，是帧动画的一种。</li>
<li>三维动画：又叫“空间动画”，可以是帧动画，也可以制作成矢量动画。主要表现三维物体和空间运动。</li>
<li>变形动画：变形动画也是帧动画的一种，它具有把物体形态过渡到另外一种形态的特点。</li>
</ul>
</li>
</ul>
<h4 id="应用：角色动画"><a href="#应用：角色动画" class="headerlink" title="应用：角色动画"></a>应用：角色动画</h4><p>•设备：3D位置跟踪器</p>
<p>•动作捕捉应用举例：游戏、电影</p>
<h3 id="虚拟现实和人机交互"><a href="#虚拟现实和人机交互" class="headerlink" title="虚拟现实和人机交互"></a>虚拟现实和人机交互</h3><h4 id="虚拟现实技术的特征"><a href="#虚拟现实技术的特征" class="headerlink" title="虚拟现实技术的特征"></a>虚拟现实技术的特征</h4><ul>
<li><p>多感知性</p>
</li>
<li><p>沉浸感</p>
</li>
<li><p>交互性</p>
</li>
</ul>
<h4 id="虚拟现实工具"><a href="#虚拟现实工具" class="headerlink" title="虚拟现实工具"></a>虚拟现实工具</h4><ul>
<li><p>视觉设备</p>
</li>
<li><p>数据手套</p>
</li>
<li><p>3D位置跟踪器</p>
</li>
<li><p>触觉与力觉反馈装置</p>
</li>
</ul>
<h4 id="交互技术"><a href="#交互技术" class="headerlink" title="交互技术"></a>交互技术</h4><ul>
<li><p>肢体运动（多点触控：桌面管理、钢铁侠）</p>
</li>
<li><p>舌头</p>
</li>
<li><p>肌肉</p>
</li>
<li><p>脑</p>
</li>
</ul>
<h4 id="增强现实"><a href="#增强现实" class="headerlink" title="增强现实"></a>增强现实</h4><ul>
<li>游戏</li>
<li>实验</li>
</ul>
<h2 id="课程总结"><a href="#课程总结" class="headerlink" title="课程总结"></a>课程总结</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://litost-fht.top/2018/10/30/实现IOC功能的简单Spring框架/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Fang Hantao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx4.sinaimg.cn/mw690/adba74c1gy1fy3qlbnbpoj20fi08cq34.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Litost's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/30/实现IOC功能的简单Spring框架/" itemprop="url">实现IOC功能的简单Spring框架</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-30T23:19:13+08:00">
                2018-10-30
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/10/30/实现IOC功能的简单Spring框架/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/10/30/实现IOC功能的简单Spring框架/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.7k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  7
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h2><p>设计一个含有IOC的简单Spring，要求含有对象注册、对象管理以及暴露给外部的获取对象功能。</p>
<h2 id="项目设计"><a href="#项目设计" class="headerlink" title="项目设计"></a>项目设计</h2><ol>
<li>对于注册的对象用一个类<em>BeanInfo</em>来描述其信息，包括对象标识、全类名以及属性名与值的Map。</li>
<li>对于IOC容器设定一个顶层接口<em>BeanFactory</em>，定义通过对象标识获取对象示例的方法<em>getBean(String id)</em>。<em>AbstractBeanFactory</em>实现该接口，在该类中实现解析生成目标对象，以及获取对象方法，并在该类中添加注册器接口，以便能从注册器中读取注册的对象。</li>
<li>对于注册器，提供一个顶层接口<em>SourceReader</em>，并在其中添加加载用户注册的对象的方法<em>loadBeans(String filePath)</em>。本项目中使用读取XML的方式，从XML中读取出注册的对象，并把它们封装成<em>BeanInfo</em>放入Map中。</li>
<li>设定一个上下文<em>XMLContext</em>，继承<em>AbstractBeanFactor</em>y，负责选择使用哪种注册方式，并决定何时加载注册的对象。</li>
</ol>
<h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><h3 id="BeanInfo类"><a href="#BeanInfo类" class="headerlink" title="BeanInfo类"></a>BeanInfo类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ex1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">- 该类用于描述注册在容器中的对象</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanInfo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> String id; <span class="comment">//对象ID，名字</span></span><br><span class="line">	<span class="keyword">private</span> String type; <span class="comment">//全类名</span></span><br><span class="line"></span><br><span class="line">   	<span class="keyword">private</span> Map&lt;String, Object&gt; properties = <span class="keyword">new</span> HashMap&lt;&gt;(); <span class="comment">//属性名与值的映射集合</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> type;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setType</span><span class="params">(String type)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.type = type;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getProperties</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> properties;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setProperties</span><span class="params">(Map&lt;String, Object&gt; properties)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.properties = properties;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addProperty</span><span class="params">(String key,Object value)</span> </span>&#123;</span><br><span class="line">        properties.put(key,value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="BeanFactory接口"><a href="#BeanFactory接口" class="headerlink" title="BeanFactory接口"></a>BeanFactory接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ex1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BeanFactory</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据对象的名称标识来获取对象实例</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id 对象名称，即对象描述信息中的对象标识</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 指定名称的对象实例</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">Object <span class="title">getBean</span><span class="params">(String id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="AbstractBeanFactory类"><a href="#AbstractBeanFactory类" class="headerlink" title="AbstractBeanFactory类"></a>AbstractBeanFactory类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ex1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">- 最顶层的IOC实现</span></span><br><span class="line"><span class="comment">- 该类负责从注册器中取出注册对象</span></span><br><span class="line"><span class="comment">- 实现从对象描述信息转换为对象实例的过程</span></span><br><span class="line"><span class="comment">- 实现根据名称获取对象的方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractBeanFactory</span> <span class="keyword">implements</span> <span class="title">BeanFactory</span> </span>&#123;</span><br><span class="line"> 	 <span class="keyword">private</span> String filePath;  <span class="comment">//注册文件路径</span></span><br><span class="line">     <span class="keyword">private</span> Map&lt;String, BeanInfo&gt; container; <span class="comment">//注册对象信息Map（IOC容器）</span></span><br><span class="line">      <span class="keyword">protected</span> SourceReader reader; <span class="comment">//对象注册读取器</span></span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AbstractBeanFactory</span><span class="params">(String filePath)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.filePath = filePath;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">- 抽象方法，需由子类实现，用于指定使用什么样的注册读取器</span></span><br><span class="line"><span class="comment">   <span class="doctag">@param</span> reader 指定的注册读取器</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">setReader</span><span class="params">(SourceReader reader)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//从注册读取器中读取注册对象的信息Map</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerBeans</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.container = <span class="keyword">this</span>.reader.loadBeans(<span class="keyword">this</span>.filePath);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//实现BeanFactory定义的根据名称获取指定对象的方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getBean</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">        BeanInfo beanInfo = <span class="keyword">this</span>.container.get(id); <span class="comment">//根据对象名称获取该对象的描述信息</span></span><br><span class="line">        <span class="keyword">if</span> (beanInfo == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//根据对象信息，解析并生存指定对象实例，返回给用户</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.parseBean(beanInfo);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">- 解析并生成对象实例</span></span><br><span class="line"><span class="comment">   该方法主要通过反射完成，步骤如下：</span></span><br><span class="line"><span class="comment">  - 1.根据类名，加载指定类，并获取该类的Class对象clazz</span></span><br><span class="line"><span class="comment">     2.使用clazz实例化该类，获取一个对象，注意，这里采用无参构造方法</span></span><br><span class="line"><span class="comment">    - 3.逐个设置对象子段的值，这里采用setter Method方式，而不是直接使用Field对象</span></span><br><span class="line"><span class="comment">       4.返回对象实例</span></span><br><span class="line"><span class="comment">      - <span class="doctag">@param</span> beanInfo 指定对象的描述信息</span></span><br><span class="line"><span class="comment">         <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="function"><span class="keyword">protected</span> Object <span class="title">parseBean</span><span class="params">(BeanInfo beanInfo)</span> </span>&#123;</span><br><span class="line">                Class clazz;</span><br><span class="line">                Object bean = <span class="keyword">null</span>;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    clazz = Class.forName(beanInfo.getType()); <span class="comment">//根据对象的全类名，指定类</span></span><br><span class="line">                    bean = clazz.newInstance(); <span class="comment">//使用注册对象的无参构造函数，实例化对象</span></span><br><span class="line">                    Method[] methods = clazz.getMethods(); <span class="comment">//获取所有公共方法（其实Spring获取的是所有方法，包括非公有是）</span></span><br><span class="line">                    <span class="keyword">for</span> (String property : beanInfo.getProperties().keySet()) &#123;</span><br><span class="line">           <span class="comment">//首字母大写</span></span><br><span class="line">           String name = property.toUpperCase().charAt(<span class="number">0</span>) + property.toLowerCase().substring(<span class="number">1</span>);</span><br><span class="line">           <span class="comment">//获取属性的setter方法名称（命名规范）</span></span><br><span class="line">           String setter = <span class="string">"set"</span> + name;</span><br><span class="line">           <span class="keyword">for</span> (Method method : methods) &#123;</span><br><span class="line">               <span class="keyword">if</span> (method.getName().equals(setter)) &#123;</span><br><span class="line">                   Object value = beanInfo.getProperties().get(property);</span><br><span class="line">                   method.invoke(bean, value); <span class="comment">//通过反射对属性赋值</span></span><br><span class="line">                   <span class="keyword">break</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InstantiationException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InvocationTargetException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="SourceReader接口"><a href="#SourceReader接口" class="headerlink" title="SourceReader接口"></a>SourceReader接口</h3><pre><code>package ex1;

import java.util.Map;
/**
 * 注册读取器接口
 * 复制读取用户注册的对象
 * 继承该接口的类可以实现多种读取方式，如从配置文件中读取，根据标注读取，从网络中读取等
 */
public interface SourceReader {
    /**
     * 读取用户注册的对象信息
     * @param filePath 注册路径
     * @return 注册对象信息Map
     */
    Map&lt;String, BeanInfo&gt; loadBeans(String filePath);
}
</code></pre><h3 id="XMLSourceReader类"><a href="#XMLSourceReader类" class="headerlink" title="XMLSourceReader类"></a>XMLSourceReader类</h3><p>这里实现从xml配置文件中读取。需要用到dom4j包，用来解析XML文件。本项目中XML文件放置在根目录下，内容如下：</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans&gt;
    &lt;bean id=&quot;Person&quot; class=&quot;ex1.Person&quot;&gt;
        &lt;property name=&quot;name&quot; value=&quot;fang&quot;/&gt;
    &lt;/bean&gt;
&lt;/beans&gt;
</code></pre><p>实现代码</p>
<pre><code>package ex1;

import org.dom4j.Attribute;
import org.dom4j.Document;
import org.dom4j.DocumentException;
import org.dom4j.Element;
import org.dom4j.io.SAXReader;
import java.io.InputStream;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;
/**
 * XML注册读取器
 * 该类继承了注册读取器接口，并模拟实现了读取注册对象信息的方法
 */
public class XMLSourceReader implements SourceReader {
    /**
     * 实现读取注册对象信息方法
     * 自己编写通过配置文件读取的实现
     */
    @Override
    public Map&lt;String, BeanInfo&gt; loadBeans(String filePath) {
        BeanInfo info = new BeanInfo(); //注册对象的info
        InputStream is = XMLContext.class.getClassLoader().getResourceAsStream(filePath);//获取xml文件
        SAXReader reader = new SAXReader();
        Map&lt;String,BeanInfo&gt; beanMap = new HashMap&lt;&gt;();
        try {
            Document document = reader.read(is);
            Element root = document.getRootElement(); //获取根标签，这里是beans
            //遍历所有bean
            for(Iterator iterator = root.elementIterator(&quot;bean&quot;);iterator.hasNext();){
                Element element = (Element)iterator.next();
                //获取id和class
                Attribute id = element.attribute(&quot;id&quot;);
                Attribute clazzName = element.attribute(&quot;class&quot;);
                info.setId(id.getText());
                info.setType(clazzName.getText());
                //遍历该bean的property
                for(Iterator it=element.elementIterator(&quot;property&quot;);it.hasNext();){
                    Element tmp = (Element)it.next();
                    //获取name和value
                    Attribute name = tmp.attribute(&quot;name&quot;);
                    Attribute value = tmp.attribute(&quot;value&quot;);
                    info.addProperty(name.getText(),value.getText());
                }
                beanMap.put(id.getText(),info);
            }
        } catch (DocumentException e) {
            e.printStackTrace();
        }
        return beanMap;
    }
}
</code></pre><h3 id="XMLContext类"><a href="#XMLContext类" class="headerlink" title="XMLContext类"></a>XMLContext类</h3><pre><code>package ex1;

public class XMLContext extends AbstractBeanFactory {
    /**
     * 上下文的构造方法
     * 该方法中指明注册读取器
     * 并在构造该方法时一次性加载注册的对象
     * @param filePath
     */
    public XMLContext(String filePath) {
        super(filePath);
        this.setReader(new XMLSourceReader());//添加注册读取器
        this.registerBeans(); //加载注册的对象信息
    }

    //设置注册读取器
    @Override
    protected void setReader(SourceReader reader) {
        this.reader = reader;
    }
}
</code></pre><h3 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h3><h4 id="Speakable接口"><a href="#Speakable接口" class="headerlink" title="Speakable接口"></a>Speakable接口</h4><pre><code>package ex1;

public interface Speakable {
    void speak(String message);
}
</code></pre><h4 id="Person类"><a href="#Person类" class="headerlink" title="Person类"></a>Person类</h4><pre><code>package ex1;

public class Person implements Speakable {
    private String name;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    @Override
    public void speak(String message) {
        System.out.println(this.name + &quot; say: &quot; + message);
    }
}
</code></pre><h4 id="Bootstrap类"><a href="#Bootstrap类" class="headerlink" title="Bootstrap类"></a>Bootstrap类</h4><pre><code>package ex1;

public class Bootstrap {
    public static void main(String[] args) {
        BeanFactory beanFactory = new XMLContext(&quot;bean.xml&quot;);
        Speakable speakable = (Speakable) beanFactory.getBean(&quot;Person&quot;);
        speakable.speak(&quot;Experience One!&quot;);
    }
}
</code></pre><h3 id="运行结果"><a href="#运行结果" class="headerlink" title="运行结果"></a>运行结果</h3><pre><code>fang say: Experience One!
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://litost-fht.top/2018/10/29/IDEA+Maven+Spring-MVC-HelloWorld示例/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Fang Hantao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx4.sinaimg.cn/mw690/adba74c1gy1fy3qlbnbpoj20fi08cq34.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Litost's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/29/IDEA+Maven+Spring-MVC-HelloWorld示例/" itemprop="url">IDEA+Maven+Spring MVC HelloWorld示例</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-29T22:01:00+08:00">
                2018-10-29
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/10/29/IDEA+Maven+Spring-MVC-HelloWorld示例/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/10/29/IDEA+Maven+Spring-MVC-HelloWorld示例/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1.5k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  7
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="用Maven创建Web项目"><a href="#用Maven创建Web项目" class="headerlink" title="用Maven创建Web项目"></a>用Maven创建Web项目</h2><p>选择webapp模板</p>
<p><img src="http://wx2.sinaimg.cn/large/adba74c1gy1fy3pq770q4j20jx0ktgn2.jpg" alt="image"></p>
<p><img src="http://wx1.sinaimg.cn/large/adba74c1gy1fy3prcx7lpj20k106yt8m.jpg" alt="image"></p>
<p>创建成功后点Enable Auto-Import</p>
<p><img src="http://wx2.sinaimg.cn/large/adba74c1gy1fy3psezp2wj20av0370sj.jpg" alt="image"></p>
<p>idea给我们创建出来的结构是这样的，这还不标准，需要自己修改。</p>
<p><img src="http://wx1.sinaimg.cn/large/adba74c1gy1fy3psqxg5hj205z06j0sm.jpg" alt="image"></p>
<p>在main文件夹下创建java文件夹，这是放置源码的地方，标记为sources。创建resources文件夹且标记为resource。</p>
<p><img src="http://wx3.sinaimg.cn/large/adba74c1gy1fy3pt504v2j20st0cj74q.jpg" alt="image"></p>
<p>初始结构如下。</p>
<p><img src="http://wx4.sinaimg.cn/large/adba74c1gy1fy3ptnddnnj206w08rt8n.jpg" alt="image"></p>
<h2 id="配置Spring"><a href="#配置Spring" class="headerlink" title="配置Spring"></a>配置Spring</h2><h3 id="pom-xml的配置"><a href="#pom-xml的配置" class="headerlink" title="pom.xml的配置"></a>pom.xml的配置</h3><p>在<dependecies>与</dependecies>之间插入以下代码，添加依赖包。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Servlet Library --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- http://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Spring dependencies --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- http://mvnrepository.com/artifact/org.springframework/spring-core --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.1.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- http://mvnrepository.com/artifact/org.springframework/spring-web --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.1.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- http://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.1.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="配置web-xml"><a href="#配置web-xml" class="headerlink" title="配置web.xml"></a>配置web.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/javaee"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/javaeehttp://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">id</span>=<span class="string">"WebApp_ID"</span> <span class="attr">version</span>=<span class="string">"3.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>HelloWorldSpring<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>spring-mvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">      org.springframework.web.servlet.DispatcherServlet</span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>spring-mvc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Other XML Configuration --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Load by Spring ContextLoaderListener --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>/WEB-INF/root-context.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- Spring ContextLoaderListener --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Spring MVC的 <strong>DispatcherServlet</strong> 将根据默认原则读取XML配置文件： 在<strong>/WEB-INF</strong>文件夹下搜寻<strong>{servlet-name}-servlet.xml</strong>，在这里则是 <strong>spring-mvc-servlet.xml</strong></p>
<p>接下来，标记指示哪些URL将由DispatcherServlet处理。 这里所有为/的HTTP请求都将由spring-mvc DispatcherServlet处理。</p>
<p>在Spring应用程序 ContextLoaderListener 将读取其他 XML 配置文件(如下的 abc.xml 和 root-context.xml 两个文件)。 可能不需要配置 ContextLoaderListener，如果你的应用程序并不需要读取其他XML配置文件。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- web.xml --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Spring ContextLoaderListener --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Load by Spring ContextLoaderListener --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">param-value</span>&gt;</span></span><br><span class="line">       /WEB-INF/root-context.xml,</span><br><span class="line">       /WEB-INF/abc.xml</span><br><span class="line"> <span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>下面添加了一个root-context.xml配置文件，仅仅是为了用于学习这功能。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">  http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Empty --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="配置spring-mvc-servlet-xml"><a href="#配置spring-mvc-servlet-xml" class="headerlink" title="配置spring-mvc-servlet.xml"></a>配置spring-mvc-servlet.xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:p</span>=<span class="string">"http://www.springframework.org/schema/p"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/mvc"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">  http://www.springframework.org/schema/beans/spring-beans-4.1.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">  http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">  http://www.springframework.org/schema/context/spring-context-4.1.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">  http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="tag"><span class="string">  http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.fang.controller"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefix"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>/WEB-INF/jsp/<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>.jsp<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>[servlet-name]-servlet.xml文件将用于创建定义的bean，它会覆盖在全局范围中使用相同名称定义的任何bean的定义。</p>
<p>&lt;context：component-scan …&gt;标签将用于激活Spring MVC注释扫描功能，允许使用@Controller和@RequestMapping等注释。</p>
<p>InternalResourceViewResolver将定义用于解析视图名称的规则。根据上面定义的规则，hello的逻辑视图将委托给位于/WEB-INF/jsp/hello.jsp这个视图来实现。</p>
<h2 id="创建控制器Controller"><a href="#创建控制器Controller" class="headerlink" title="创建控制器Controller"></a>创建控制器Controller</h2><p>在java文件夹下创建包<strong>com.fang.controller</strong>,用于放置controller。<br>创建HelloWorldController类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.fang.controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorldController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">"/hello"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">(Model model)</span></span>&#123;</span><br><span class="line">        model.addAttribute(<span class="string">"greeting"</span>,<span class="string">"Hello Spring MVC"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"helloworld"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>value属性指示处理程序方法映射到的URL。</p>
<p>定义的服务方法可以返回一个String，它包含要用于渲染模型的视图的名称。此示例将“helloworld”返回为逻辑视图名称。</p>
<h2 id="创建jsp视图"><a href="#创建jsp视图" class="headerlink" title="创建jsp视图"></a>创建jsp视图</h2><p>在WEB-INF文件夹下创建jsp文件夹，然后创建helloworld.jsp。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%@</span> <span class="attr">page</span> <span class="attr">language</span>=<span class="string">"java"</span> <span class="attr">contentType</span>=<span class="string">"text/html; charset=UTF-8"</span>  <span class="attr">pageEncoding</span>=<span class="string">"UTF-8"</span>%&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Spring4 MVC -HelloWorld<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>$&#123;greeting&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这里${greeting}是在Controller中设置的属性。可以在视图中显示多个属性。</p>
<h2 id="部署tomcat-server服务"><a href="#部署tomcat-server服务" class="headerlink" title="部署tomcat server服务"></a>部署tomcat server服务</h2><p>点击工具栏的run-&gt;edit configurations</p>
<p><img src="http://wx4.sinaimg.cn/large/adba74c1gy1fy3pxshrmej20ds09aglu.jpg" alt="image"></p>
<p>点击+号，选择tomcat-local</p>
<p><img src="http://wx1.sinaimg.cn/large/adba74c1gy1fy3py9bfpgj20il0j2mxt.jpg" alt="image"></p>
<p>部署tomcat，选择war结尾的那个</p>
<p><img src="http://wx2.sinaimg.cn/large/adba74c1gy1fy3pyoklijj20kd01i742.jpg" alt="image"></p>
<p><img src="http://wx3.sinaimg.cn/large/adba74c1gy1fy3pyxeahdj20n30fkt8t.jpg" alt="image"></p>
<p><img src="http://wx2.sinaimg.cn/large/adba74c1gy1fy3pzct75kj20f906hglk.jpg" alt="image"></p>
<p>完成后左下角会出现这个</p>
<p><img src="http://wx4.sinaimg.cn/large/adba74c1gy1fy3pzqjtaej20cf03q746.jpg" alt="image"></p>
<p>点击绿色小箭头就运行了</p>
<p><img src="http://wx1.sinaimg.cn/large/adba74c1gy1fy3q0avyogj20w605jjru.jpg" alt="image"></p>
<h2 id="运行结果"><a href="#运行结果" class="headerlink" title="运行结果"></a>运行结果</h2><p><img src="http://wx4.sinaimg.cn/large/adba74c1gy1fy3q0o8yf6j208302g0sk.jpg" alt="image"></p>
<p>DispatcherServlet拦截解析请求，发现是/hello，转到HelloWorldController下的hello方法中-&gt;helloworld 将请求转发到/WEB-INF/jsp/helloworld.jsp界面</p>
<h2 id="项目最终结构图"><a href="#项目最终结构图" class="headerlink" title="项目最终结构图"></a>项目最终结构图</h2><p><img src="http://wx2.sinaimg.cn/large/adba74c1gy1fy3q1444etj208t0bot8s.jpg" alt="image"></p>
<h2 id="应用程序的流程"><a href="#应用程序的流程" class="headerlink" title="应用程序的流程"></a>应用程序的流程</h2><p><strong>现在来看看程序的运行流程吧！这很重要！</strong></p>
<p><img src="http://www.yiibai.com/uploads/tutorial/20160116/1-16011609514D50.png" alt="i"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://litost-fht.top/2018/10/27/CSU - 1803/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Fang Hantao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx4.sinaimg.cn/mw690/adba74c1gy1fy3qlbnbpoj20fi08cq34.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Litost's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/27/CSU - 1803/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-27T19:30:14+08:00">
                2018-10-27
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/10/27/CSU - 1803/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/10/27/CSU - 1803/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  320
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p>title: CSU - 1803 - 2016<br>date: 2017-03-20 12:36:50<br>categories: </p>
<ul>
<li>数学<br>tags: </li>
<li>acm</li>
<li>数论</li>
</ul>
<hr>
<p>Description</p>
<p> 给出正整数 n 和 m，统计满足以下条件的正整数对 (a,b) 的数量：</p>
<pre><code>1. 1≤a≤n,1≤b≤m;
2. a×b 是 2016 的倍数。
</code></pre><p>Input</p>
<p>输入包含不超过 30 组数据。<br>每组数据包含两个整数 n,m (1≤n,m≤109).<br>Output<br>对于每组数据，输出一个整数表示满足条件的数量。<br>Sample Input<br>32 63<br>2016 2016<br>1000000000 1000000000<br>Sample Output<br>1<br>30576<br>7523146895502644</p>
<p>由<em>同余定理</em>得<br><strong>(a<em>b)%p=((a%p)</em>(b%p))%p；</strong></p>
<p>所以(a<em>b)%p=((a%2016)</em>(b%2016))%2016;</p>
<p>这样,我们就可以将数据范围控制在2016以内。<br>即记录[1,n]内 mod 2016 = i的个数a[i]<br>以及记录[1,m]内 mod 2016 = i的个数b[i]<br>时间复杂度为O(2016)。<br>然后，我们只要将(i<em>j)%2016==0的所有情况a[i]</em>b[j]统计求和就可以了。<br>代码：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> a[<span class="number">2016</span>],b[<span class="number">2016</span>];  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="keyword">int</span> n,m,i,j;  </span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> ans;  </span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m))  </span><br><span class="line">    &#123;  </span><br><span class="line">        ans=<span class="number">0</span>;  </span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">2016</span>;i++)  </span><br><span class="line">            a[i]=n/<span class="number">2016</span>,b[i]=m/<span class="number">2016</span>;  </span><br><span class="line">            </span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n%<span class="number">2016</span>;i++)  a[i]++;  </span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=m%<span class="number">2016</span>;i++)  b[i]++;  </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">2016</span>;i++)  </span><br><span class="line">            <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">2016</span>;j++)  </span><br><span class="line">                <span class="keyword">if</span>((i*j)%<span class="number">2016</span>==<span class="number">0</span>)  </span><br><span class="line">                    ans+=a[i]*b[j];  </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://litost-fht.top/2018/10/27/test-my-site/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Fang Hantao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx4.sinaimg.cn/mw690/adba74c1gy1fy3qlbnbpoj20fi08cq34.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Litost's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/27/test-my-site/" itemprop="url">test_my_site</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-27T17:38:16+08:00">
                2018-10-27
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/10/27/test-my-site/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/10/27/test-my-site/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  0
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://litost-fht.top/2018/10/27/hello-world/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Fang Hantao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx4.sinaimg.cn/mw690/adba74c1gy1fy3qlbnbpoj20fi08cq34.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Litost's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/27/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-27T17:35:20+08:00">
                2018-10-27
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/10/27/hello-world/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/10/27/hello-world/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  73
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://litost-fht.top/2017/10/15/UVA - 1625 Color Length/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Fang Hantao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx4.sinaimg.cn/mw690/adba74c1gy1fy3qlbnbpoj20fi08cq34.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Litost's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/15/UVA - 1625 Color Length/" itemprop="url">UVA - 1625 Color Length</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-15T22:14:50+08:00">
                2017-10-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/uva/" itemprop="url" rel="index">
                    <span itemprop="name">uva</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/15/UVA - 1625 Color Length/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/10/15/UVA - 1625 Color Length/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  643
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="题目链接-！-https-vjudge-net-problem-UVA-1625"><a href="#题目链接-！-https-vjudge-net-problem-UVA-1625" class="headerlink" title="[题目链接]！(https://vjudge.net/problem/UVA-1625)"></a>[题目链接]！(<a href="https://vjudge.net/problem/UVA-1625" target="_blank" rel="noopener">https://vjudge.net/problem/UVA-1625</a>)</h3><h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><p>有两个颜色序列（由大写字母表示），每次可以从两个序列中取出第一个颜色，重复此操作将两个序列合并，定义lc为颜色c在合并后的序列中最后出现的位置与最开始出现的位置的差，求使得所有颜色的lc之和最小的值。</p>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>紫书的题。令dp[i][j]表示分别从两个序列移走前i个和前j个后形成序列最小的lc总和。因为很难记录每个颜色什么时候出现，什么时候结束，所以把关注点放在颜色一开始但未结束的状态，每加入一个元素，都累加当前已开始的颜色种数。定义c[i][j]为分别从两个序列移走前i个和前j个后，还有多少种颜色已开始未结束。那么，dp[i][j]=min{dp[i][j-1]+c[i][j-1],dp[i-1][j]+c[i-1][j]}。其他看代码</p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MP make_pair</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CLR(a, b) memset(a, b, sizeof(a))</span></span><br><span class="line"><span class="keyword">const</span> ll mod=<span class="number">2147493647</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">5005</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> pi=<span class="built_in">acos</span>(<span class="number">-1.0</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps=<span class="number">1e-12</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> tran=<span class="number">180</span>/pi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dp[maxn][maxn],c[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> bf[<span class="number">100</span>],bs[<span class="number">100</span>],ef[<span class="number">100</span>],es[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">char</span> s[maxn],f[maxn];</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> ch;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    getchar();</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,f+<span class="number">1</span>);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,s+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> lenf=<span class="built_in">strlen</span>(f+<span class="number">1</span>),lens=<span class="built_in">strlen</span>(s+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(ch=<span class="string">'A'</span>;ch&lt;=<span class="string">'Z'</span>;ch++) bf[ch]=bs[ch]=inf,ef[ch]=es[ch]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=lenf;i++)&#123;</span><br><span class="line">            ch=f[i];</span><br><span class="line">            bf[ch]=min(i,bf[ch]);</span><br><span class="line">            ef[ch]=i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=lens;i++)&#123;</span><br><span class="line">            ch=s[i];</span><br><span class="line">            bs[ch]=min(i,bs[ch]);</span><br><span class="line">            es[ch]=i;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=lenf;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=lens;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i)&#123;</span><br><span class="line">                    c[i][j]=c[i<span class="number">-1</span>][j];</span><br><span class="line">                    ch=f[i];</span><br><span class="line">                    <span class="keyword">if</span>(bf[ch]==i&amp;&amp;bs[ch]&gt;j) c[i][j]++;</span><br><span class="line">                    <span class="keyword">if</span>(ef[ch]==i&amp;&amp;es[ch]&lt;=j) c[i][j]--;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(j)&#123;</span><br><span class="line">                    c[i][j]=c[i][j<span class="number">-1</span>];</span><br><span class="line">                    ch=s[j];</span><br><span class="line">                    <span class="keyword">if</span>(bs[ch]==j&amp;&amp;bf[ch]&gt;i) c[i][j]++;</span><br><span class="line">                    <span class="keyword">if</span>(es[ch]==j&amp;&amp;ef[ch]&lt;=i) c[i][j]--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=lenf;i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=lens;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i||j) dp[i][j]=inf;</span><br><span class="line">                <span class="keyword">if</span>(i) dp[i][j]=min(dp[i][j],dp[i<span class="number">-1</span>][j]+c[i<span class="number">-1</span>][j]);</span><br><span class="line">                <span class="keyword">if</span>(j) dp[i][j]=min(dp[i][j],dp[i][j<span class="number">-1</span>]+c[i][j<span class="number">-1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;dp[lenf][lens]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://litost-fht.top/2017/10/15/UVA - 11584 Partitioning by Palindromes/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Fang Hantao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx4.sinaimg.cn/mw690/adba74c1gy1fy3qlbnbpoj20fi08cq34.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Litost's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/10/15/UVA - 11584 Partitioning by Palindromes/" itemprop="url">UVA - 11584 Partitioning by Palindromes</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-15T19:14:50+08:00">
                2017-10-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/uva/" itemprop="url" rel="index">
                    <span itemprop="name">uva</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/15/UVA - 11584 Partitioning by Palindromes/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/10/15/UVA - 11584 Partitioning by Palindromes/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  395
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="题目链接-！-https-vjudge-net-problem-UVA-11584"><a href="#题目链接-！-https-vjudge-net-problem-UVA-11584" class="headerlink" title="[题目链接]！(https://vjudge.net/problem/UVA-11584)"></a>[题目链接]！(<a href="https://vjudge.net/problem/UVA-11584" target="_blank" rel="noopener">https://vjudge.net/problem/UVA-11584</a>)</h3><h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><p>把一个给定的字符串划分成回文串，要求回文串的数量尽量少。</p>
<h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>按照问题来定义状态。定义dp[i]为字符0-i划分为字符串的最小数量，那么dp[i]=min{dp[j]+1 | s[j+1…i]为回文串}。每次转移需要n^2，若加上判断回文串的时间，会爆炸的。所以预处理，注意分奇偶，枚举中心点，向两边延伸。</p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MP make_pair</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CLR(a, b) memset(a, b, sizeof(a))</span></span><br><span class="line"><span class="keyword">const</span> ll mod=<span class="number">2147493647</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2e5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> pi=<span class="built_in">acos</span>(<span class="number">-1.0</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps=<span class="number">1e-12</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> tran=<span class="number">180</span>/pi;</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">1010</span>];</span><br><span class="line"><span class="keyword">bool</span> m[<span class="number">1010</span>][<span class="number">1010</span>];</span><br><span class="line"><span class="keyword">int</span> len;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(m,<span class="literal">false</span>,<span class="keyword">sizeof</span>(m));</span><br><span class="line">    len = <span class="built_in">strlen</span>(s);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> d=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(s[i+d]==s[i-d]&amp;&amp;i-d&gt;=<span class="number">0</span>&amp;&amp;i+d&lt;len)&#123;</span><br><span class="line">            m[i-d][i+d]=<span class="literal">true</span>;</span><br><span class="line">            d++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">int</span> t=i;</span><br><span class="line">            d=i<span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">while</span>(s[d]==s[t]&amp;&amp;d&gt;=<span class="number">0</span>&amp;&amp;t&lt;len)&#123;</span><br><span class="line">                m[d][t]=<span class="literal">true</span>;</span><br><span class="line">                d--,t++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1010</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,s);</span><br><span class="line">        init();</span><br><span class="line">        <span class="built_in">memset</span>(dp,inf,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">        dp[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;len;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(m[<span class="number">0</span>][i]) dp[i]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;i;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(m[j+<span class="number">1</span>][i])</span><br><span class="line">                    dp[i]=min(dp[i],dp[j]+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;dp[len<span class="number">-1</span>]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="http://wx4.sinaimg.cn/mw690/adba74c1gy1fy3qlbnbpoj20fi08cq34.jpg" alt="Fang Hantao">
            
              <p class="site-author-name" itemprop="name">Fang Hantao</p>
              <p class="site-description motion-element" itemprop="description">share something</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">136</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">30</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">46</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/llitost" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://plus.google.com/yourname" target="_blank" title="Google">
                      
                        <i class="fa fa-fw fa-google"></i>Google</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.facebook.com/yourname" target="_blank" title="FB Page">
                      
                        <i class="fa fa-fw fa-facebook"></i>FB Page</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://youtube.com/yourname" target="_blank" title="YouTube">
                      
                        <i class="fa fa-fw fa-youtube"></i>YouTube</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://instagram.com/yourname" target="_blank" title="Instagram">
                      
                        <i class="fa fa-fw fa-instagram"></i>Instagram</a>
                  </span>
                
            </div>
          

          
          

          
          
<br>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=3950239&auto=1&height=66"></iframe>
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Fang Hantao</span>

  
</div>



  <div class="powered-by">
  <i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
    本站访客数:<span id="busuanzi_value_site_uv"></span>
  </span>
  </div>
  
  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>



<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共174.1k字</span>
</div>
        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://.disqus.com/count.js" async></script>
    

    

  




	





  




  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  










  





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

</body>
</html>
